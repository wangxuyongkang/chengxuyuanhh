<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.5 (458014)"/><meta name="created" content="2019-03-10 07:08:03 +0000"/><meta name="updated" content="2019-03-10 08:45:15 +0000"/><meta name="content-class" content="michalyao.vscode.evermonkey"/><title>乐农客02</title></head><body><!--%EVERMONKEY%IyB4YWRtaW7lkI7lj7DnrqHnkIYKIyMgeGFkbWlu5re75Yqg5a+M5paH5pys5o+S5Lu2Ci0g5ou36LSd5a+M5paH5pys5o+S5Lu25rqQ5Luj56CBCgohW3hhZG1pbumhueebrua6kOS7o+eggV0oaHR0cDovL21kLjEwMGN4eS5jb20veGFkbWluJUU5JUExJUI5JUU3JTlCJUFFJUU2JUJBJTkwJUU0JUJCJUEzJUU3JUEwJTgxLnBuZykKCi0g5bCG5LqL5YWI5YaZ5aW955qEZ29vZHMvdXNlcnMvdHJhZGUvdXNlcl9vcGVyYXRpb27kuIvnmoRhZG1pbnjmlofku7bmi7fotJ3ov5vmnaUKCiFb6YWN572ueGFkbWluXShodHRwOi8vbWQuMTAwY3h5LmNvbS8lRTklODUlOEQlRTclQkQlQUV4YWRtaW4ucG5nKQojIyDlronoo4V4YWRtaW7nmoTkvp3otZbljIUKYGBgcHl0aG9uCmRqYW5nbz49MS45LjAKZGphbmdvLWNyaXNweS1mb3JtcwpkamFuZ28taW1wb3J0LWV4cG9ydApkamFuZ28tcmV2ZXJzaW9uCmRqYW5nby1mb3JtdG9vbHMKZnV0dXJlCmh0dHBsaWIyCnNpeAp4bHd0IAp4bHN4d3JpdGVyCmBgYApb44CQeGFkbWlu5a6Y5pa56ZO+5o6l44CRXShodHRwczovL2dpdGh1Yi5jb20vc3Nod3NmYy94YWRtaW4pCgojIyDln7rmnKzphY3nva4gCiMjIyDnlJ/miJDov4Hnp7vmlofku7blkozmiafooYzov4Hnp7sKYGBgcHl0aG9uCnB5dGhvbiBtYW5hZ2UucHkgbWFrZW1pZ3JhdGlvbnMKcHl0aG9uIG1hbmFnZS5weSBtaWdyYXRlCmBgYAojIyMg6YWN572u6Lev55SxCmBgYHB5dGhvbgppbXBvcnQgeGFkbWluCgpmcm9tIGRqYW5nby5jb25mLnVybHMgaW1wb3J0IHVybCxpbmNsdWRlCgp1cmxwYXR0ZXJucyA9IFsKICAgIHVybCgneGFkbWluLycsIHhhZG1pbi5zaXRlLnVybHMpLAogICAgdXJsKCd1ZWRpdG9yLycsIGluY2x1ZGUoJ0RqYW5nb1VlZGl0b3IudXJscycpKSwKXQoKYGBgCiMjIyDliJvlu7rkuIDkuKrnrqHnkIblkZjotKbmiLcgCmBgYHB5dGhvbgpweXRob24gbWFuYWdlIGNyZWF0ZXN1cGVydXNlcgpgYGAKCiFbeGFkbWlu5ZCO5Y+w6aG16Z2iXShodHRwOi8vbWQuMTAwY3h5LmNvbS94YWRtaW4lRTUlOTAlOEUlRTUlOEYlQjAlRTklQTElQjUlRTklOUQlQTIucG5nKQoKIyMjIOiuvue9ruS4reaWhyAKYGBgcHl0aG9uCiPorr7nva7ml7bljLoKTEFOR1VBR0VfQ09ERSA9ICd6aC1oYW5zJyAgI+S4reaWh+aUr+aMge+8jGRqYW5nbzEuOOS7peWQjuaUr+aMge+8mzEuOOS7peWJjeaYr3poLWNuClRJTUVfWk9ORSA9ICdBc2lhL1NoYW5naGFpJwpVU0VfSTE4TiA9IFRydWUKVVNFX0wxME4gPSBUcnVlClVTRV9UWiA9IEZhbHNlICAgI+m7mOiupOaYr1R1cmXvvIzml7bpl7TmmK91dGPml7bpl7TvvIznlLHkuo7miJHku6zopoHnlKjmnKzlnLDml7bpl7TvvIzmiYDnlKjmiYvliqjkv67mlLnkuLpmYWxzZe+8ge+8ge+8ge+8gQpgYGAKLSDkv67mlLlhcHDlkI3np7AKCiFb6K6+572u5Lit5paHXShodHRwOi8vbWQuMTAwY3h5LmNvbS8lRTglQUUlQkUlRTclQkQlQUUlRTQlQjglQUQlRTYlOTYlODcwMS5wbmcpCmBgYHB5dGhvbgojIHVzZXJzL2FwcHMucHkKZnJvbSBkamFuZ28uYXBwcyBpbXBvcnQgQXBwQ29uZmlnCgoKY2xhc3MgVXNlcnNDb25maWcoQXBwQ29uZmlnKToKICAgIG5hbWUgPSAnYXBwcy51c2VycycKICAgICMgYXBw5ZCN5a2X5ZCO5Y+w5pi+56S65Lit5paHCiAgICB2ZXJib3NlX25hbWUgPSAi55So5oi3566h55CGIgpgYGAKYGBgcHl0aG9uCmZyb20gZGphbmdvLmFwcHMgaW1wb3J0IEFwcENvbmZpZwoKCmNsYXNzIFVzZXJPcGVyYXRpb25Db25maWcoQXBwQ29uZmlnKToKICAgIG5hbWUgPSAndXNlcl9vcGVyYXRpb24nCiAgICB2ZXJib3NlX25hbWUgPSAi55So5oi35pON5L2cIgpgYGAKYGBgcHl0aG9uCmZyb20gZGphbmdvLmFwcHMgaW1wb3J0IEFwcENvbmZpZwoKCmNsYXNzIEdvb2RzQ29uZmlnKEFwcENvbmZpZyk6CiAgICBuYW1lID0gJ2dvb2RzJwogICAgdmVyYm9zZV9uYW1lID0gIuWVhuWTgeeuoeeQhiIKYGBgCmBgYHB5dGhvbgpmcm9tIGRqYW5nby5hcHBzIGltcG9ydCBBcHBDb25maWcKCgpjbGFzcyBUcmFkZUNvbmZpZyhBcHBDb25maWcpOgogICAgbmFtZSA9ICd0cmFkZScKICAgIHZlcmJvc2VfbmFtZSA9ICLkuqTmmJPnrqHnkIYiCmBgYAotIOWvueW6lGFwcOeahGluaXTmlofku7bpnIDopoHmt7vliqDkuIDlj6Xor50s5omN6IO955Sf5pWICmBgYHB5dGhvbgojIHVzZXJzL19faW5pdF9fLnB5CmRlZmF1bHRfYXBwX2NvbmZpZyA9ICd1c2Vycy5hcHBzLlVzZXJzQ29uZmlnJwpgYGAKYGBgcHl0aG9uCmRlZmF1bHRfYXBwX2NvbmZpZyA9ICd1c2VyX29wZXJhdGlvbi5hcHBzLlVzZXJPcGVyYXRpb25Db25maWcnCmBgYApgYGBweXRob24KZGVmYXVsdF9hcHBfY29uZmlnID0gJ2dvb2RzLmFwcHMuR29vZHNDb25maWcnCmBgYApgYGBweXRob24KZGVmYXVsdF9hcHBfY29uZmlnID0gJ3RyYWRlLmFwcHMuVHJhZGVDb25maWcnCmBgYAoKIVvphY3nva54YWRtaW4yXShodHRwOi8vbWQuMTAwY3h5LmNvbS8lRTklODUlOEQlRTclQkQlQUV4YWRtaW4yLnBuZykKCiMg5b2V5YWl5rWL6K+V5pWw5o2uIAojIyDlr7zlhaXllYblk4HnsbvliKvmlbDmja4KLSDnlLHkuo7liIbnsbvlkozllYblk4HlvojlpJrvvIzlsLHpnIDopoHlhpnkuKrohJrmnKzlr7zlhaXmlbDmja4KICAgIC0gZGJfdG9vbHPkuIvmlrDlu7rmlofku7blpLlkYXRh77yM54S25ZCO5oqK5YmN56uv55qEanNvbuaWh+S7tu+8iGNhdGVnb3J5X2RhdGHlkoxwcm9kdWN0X2RhdGHvvInmi7fotJ3liLDph4zpnaIKICAgICFbanNvbuaVsOaNruaWh+S7tl0oaHR0cDovL21kLjEwMGN4eS5jb20vanNvbiVFNiU5NSVCMCVFNiU4RCVBRSVFNiU5NiU4NyVFNCVCQiVCNi5wbmcpCiAgICAtIOaKimJyYW5kc+WSjGdvb2Rz5Zu+54mH5ou36LSd5YiwbWVkaWHnm67lvZXkuIsKICAgICFb5Zu+54mH5pWw5o2uXShodHRwOi8vbWQuMTAwY3h5LmNvbS8lRTUlOUIlQkUlRTclODklODclRTYlOTUlQjAlRTYlOEQlQUUucG5nKQojIyMgZGJfdG9vbHPkuIvmlrDlu7rmlofku7YgaW1wb3J0X2NhdGVnb3J5X2RhdGEucHkKYGBgcHl0aG9uCgoj54us56uL5L2/55SoZGphbmdv55qEbW9kZWwKaW1wb3J0IHN5cwppbXBvcnQgb3MKCiPojrflj5blvZPliY3mlofku7bnmoTot6/lvoTvvIjov5DooYzohJrmnKzvvIkKcHdkID0gb3MucGF0aC5kaXJuYW1lKG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKQojIOiOt+WPlumhueebrueahOagueebruW9lQpzeXMucGF0aC5hcHBlbmQocHdkKyIuLi8iKQojIOimgeaDs+WNleeLrOS9v+eUqGRqYW5nb+eahG1vZGVs77yM5b+F6aG75oyH5a6a5LiA5Liq546v5aKD5Y+Y6YeP77yM5Lya5Y67c2V0dGluZ3PphY3nva7mib4KIyDlj4LnhadtYW5hZ2UucHnph4zpnaLlsLHnn6XpgZPkuLrku4DkuYjov5nmoLforr7nva7kuoYKb3MuZW52aXJvbi5zZXRkZWZhdWx0KCJESkFOR09fU0VUVElOR1NfTU9EVUxFIiwgIkxlU2hvcC5zZXR0aW5ncyIpCgoj54us56uL5L2/55SoZGphbmdv55qEbW9kZWwKaW1wb3J0IGRqYW5nbwpkamFuZ28uc2V0dXAoKQoKZnJvbSBnb29kcy5tb2RlbHMgaW1wb3J0IEdvb2RzQ2F0ZWdvcnkKCmZyb20gZGJfdG9vbHMuZGF0YS5jYXRlZ29yeV9kYXRhIGltcG9ydCByb3dfZGF0YQoj5LiA57qn57G7CmZvciBsZXYxX2NhdCBpbiByb3dfZGF0YToKICAgIGxldjFfaW50YW5jZSA9IEdvb2RzQ2F0ZWdvcnkoKQogICAgbGV2MV9pbnRhbmNlLmNvZGUgPSBsZXYxX2NhdFsiY29kZSJdCiAgICBsZXYxX2ludGFuY2UubmFtZSA9IGxldjFfY2F0WyJuYW1lIl0KICAgIGxldjFfaW50YW5jZS5jYXRlZ29yeV90eXBlID0gMQogICAgIyDkv53lrZjliLDmlbDmja7lupMKICAgIGxldjFfaW50YW5jZS5zYXZlKCkKICAgICPkuoznuqfnsbsKICAgIGZvciBsZXYyX2NhdCBpbiBsZXYxX2NhdFsic3ViX2NhdGVnb3J5cyJdOgogICAgICAgIGxldjJfaW50YW5jZSA9IEdvb2RzQ2F0ZWdvcnkoKQogICAgICAgIGxldjJfaW50YW5jZS5jb2RlID0gbGV2Ml9jYXRbImNvZGUiXQogICAgICAgIGxldjJfaW50YW5jZS5uYW1lID0gbGV2Ml9jYXRbIm5hbWUiXQogICAgICAgIGxldjJfaW50YW5jZS5jYXRlZ29yeV90eXBlID0gMgogICAgICAgIGxldjJfaW50YW5jZS5wYXJlbnRfY2F0ZWdvcnkgPSBsZXYxX2ludGFuY2UKICAgICAgICBsZXYyX2ludGFuY2Uuc2F2ZSgpCiAgICAgICAgI+S4iee6p+exuwogICAgICAgIGZvciBsZXYzX2NhdCBpbiBsZXYyX2NhdFsic3ViX2NhdGVnb3J5cyJdOgogICAgICAgICAgICBsZXYzX2ludGFuY2UgPSBHb29kc0NhdGVnb3J5KCkKICAgICAgICAgICAgbGV2M19pbnRhbmNlLmNvZGUgPSBsZXYzX2NhdFsiY29kZSJdCiAgICAgICAgICAgIGxldjNfaW50YW5jZS5uYW1lID0gbGV2M19jYXRbIm5hbWUiXQogICAgICAgICAgICBsZXYzX2ludGFuY2UuY2F0ZWdvcnlfdHlwZSA9IDMKICAgICAgICAgICAgbGV2M19pbnRhbmNlLnBhcmVudF9jYXRlZ29yeSA9IGxldjJfaW50YW5jZQogICAgICAgICAgICBsZXYzX2ludGFuY2Uuc2F2ZSgpCmBgYArnhLblkI7ov5DooYzohJrmnKwgaW1wb3J0X2NhdGVnb3J5X2RhdGEucHkgIOaVsOaNruWwseWPr+S7peS/neWtmOWIsOaVsOaNruW6k+S6hgoKIVvlr7zlhaXmlbDmja4wMV0oaHR0cDovL21kLjEwMGN4eS5jb20vJUU1JUFGJUJDJUU1JTg1JUE1JUU2JTk1JUIwJUU2JThEJUFFMDEucG5nKQoKIyMg5a+85YWl5ZWG5ZOB5pWw5o2uCi0g5ZyoZGF0YeebruW9leS4i+aWsOW7umltcG9ydF9nb29kc19kYXRhLnB5CmBgYHB5dGhvbgppbXBvcnQgc3lzCmltcG9ydCBvcwoKCnB3ZCA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLnJlYWxwYXRoKF9fZmlsZV9fKSkKc3lzLnBhdGguYXBwZW5kKHB3ZCsiLi4vIikKb3MuZW52aXJvbi5zZXRkZWZhdWx0KCJESkFOR09fU0VUVElOR1NfTU9EVUxFIiwgIkxlU2hvcC5zZXR0aW5ncyIpCgppbXBvcnQgZGphbmdvCmRqYW5nby5zZXR1cCgpCgpmcm9tIGdvb2RzLm1vZGVscyBpbXBvcnQgR29vZHMsIEdvb2RzQ2F0ZWdvcnksIEdvb2RzSW1hZ2UKCmZyb20gZGJfdG9vbHMuZGF0YS5wcm9kdWN0X2RhdGEgaW1wb3J0IHJvd19kYXRhCgpmb3IgZ29vZHNfZGV0YWlsIGluIHJvd19kYXRhOgogICAgZ29vZHMgPSBHb29kcygpCiAgICBnb29kcy5uYW1lID0gZ29vZHNfZGV0YWlsWyJuYW1lIl0KICAgICMg5YmN56uv5Lit5piv4oCc77+lMjMy4oCd77yM5pWw5o2u5bqT5Lit5pivZmxvYXTnsbvlnovvvIzmiYDku6XopoHmm7/mjaLmjokKICAgIGdvb2RzLm1hcmtldF9wcmljZSA9IGZsb2F0KGludChnb29kc19kZXRhaWxbIm1hcmtldF9wcmljZSJdLnJlcGxhY2UoIu+/pSIsICIiKS5yZXBsYWNlKCLlhYMiLCAiIikpKQogICAgZ29vZHMuc2hvcF9wcmljZSA9IGZsb2F0KGludChnb29kc19kZXRhaWxbInNhbGVfcHJpY2UiXS5yZXBsYWNlKCLvv6UiLCAiIikucmVwbGFjZSgi5YWDIiwgIiIpKSkKICAgIGdvb2RzLmdvb2RzX2JyaWVmID0gZ29vZHNfZGV0YWlsWyJkZXNjIl0gaWYgZ29vZHNfZGV0YWlsWyJkZXNjIl0gaXMgbm90IE5vbmUgZWxzZSAiIgogICAgZ29vZHMuZ29vZHNfZGVzYyA9IGdvb2RzX2RldGFpbFsiZ29vZHNfZGVzYyJdIGlmIGdvb2RzX2RldGFpbFsiZ29vZHNfZGVzYyJdIGlzIG5vdCBOb25lIGVsc2UgIiIKICAgICMg5Y+W56ys5LiA5byg5L2c5Li65bCB6Z2i5Zu+CiAgICBnb29kcy5nb29kc19mcm9udF9pbWFnZSA9IGdvb2RzX2RldGFpbFsiaW1hZ2VzIl1bMF0gaWYgZ29vZHNfZGV0YWlsWyJpbWFnZXMiXSBlbHNlICIiCgogICAgY2F0ZWdvcnlfbmFtZSA9IGdvb2RzX2RldGFpbFsiY2F0ZWdvcnlzIl1bLTFdCiAgICAjIOWPluWHuuW9k+WJjeWtkOexu+WvueW6lOeahEdvb2RzQ2F0ZWdvcnnlr7nosaHvvIxmaWx0ZXLmsqHmnInljLnphY3nmoTkvJrov5Tlm57nqbrmlbDnu4TvvIzkuI3kvJrmipvlvILluLjjgIIKICAgIGNhdGVnb3J5ID0gR29vZHNDYXRlZ29yeS5vYmplY3RzLmZpbHRlcihuYW1lPWNhdGVnb3J5X25hbWUpCiAgICBpZiBjYXRlZ29yeToKICAgICAgICBnb29kcy5jYXRlZ29yeSA9IGNhdGVnb3J5WzBdCiAgICBnb29kcy5zYXZlKCkKCiAgICBmb3IgZ29vZHNfaW1hZ2UgaW4gZ29vZHNfZGV0YWlsWyJpbWFnZXMiXToKICAgICAgICBnb29kc19pbWFnZV9pbnN0YW5jZSA9IEdvb2RzSW1hZ2UoKQogICAgICAgIGdvb2RzX2ltYWdlX2luc3RhbmNlLmltYWdlID0gZ29vZHNfaW1hZ2UKICAgICAgICBnb29kc19pbWFnZV9pbnN0YW5jZS5nb29kcyA9IGdvb2RzCiAgICAgICAgZ29vZHNfaW1hZ2VfaW5zdGFuY2Uuc2F2ZSgpCmBgYAoKIyDlhbbku5bphY3nva4gCiMjIOmFjee9rm1lZGlh6Lev5b6ECgohW+aWh+S7tuS4iuS8oF0oaHR0cDovL21kLjEwMGN4eS5jb20vJUU2JTk2JTg3JUU0JUJCJUI2JUU0JUI4JThBJUU0JUJDJUEwLnBuZykKCmBgYHB5dGhvbgojIHNldHRpbmdzLnB5IAojIOiuvue9ruS4iuS8oOaWh+S7tueahOi3r+W+hApNRURJQV9VUkw9Ii9tZWRpYS8iCk1FRElBX1JPT1Q9b3MucGF0aC5qb2luKEJBU0VfRElSLCJtZWRpYSIpCmBgYApgYGBweXRob24KIyB1cmxzLnB5IApmcm9tIGRqYW5nby5jb25mLnVybHMgaW1wb3J0IHVybCwgaW5jbHVkZQpmcm9tIGRqYW5nby52aWV3cy5zdGF0aWMgaW1wb3J0IHNlcnZlCmZyb20gTGVTaG9wLnNldHRpbmdzIGltcG9ydCBNRURJQV9ST09UCmltcG9ydCB4YWRtaW4KCnVybHBhdHRlcm5zID0gWwogICAgdXJsKCd4YWRtaW4vJywgeGFkbWluLnNpdGUudXJscyksCiAgICB1cmwoJ3VlZGl0b3IvJywgaW5jbHVkZSgnRGphbmdvVWVkaXRvci51cmxzJykpLAogICAgIyDmlofku7YKICAgIHVybChyJ15tZWRpYS8oP1A8cGF0aD4uKikkJywgc2VydmUsIHsiZG9jdW1lbnRfcm9vdCI6IE1FRElBX1JPT1R9KSwKXQoKYGBgCiFb5paH5Lu25LiK5LygMl0oaHR0cDovL21kLjEwMGN4eS5jb20vJUU1JUJFJUFFJUU0JUJGJUExJUU2JTg4JUFBJUU1JTlCJUJFXzIwMTkwMjI2MTEzNzU1LnBuZyk=%EVERMONKEY%--><div style="-ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; color: #333; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial,freesans, sans-serif,微软雅黑,Heiti SC Light,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol !important; font-size: 26px !important; line-height: 1.6; margin-bottom: 50px; word-wrap: break-word;"><h1 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 32px; font-weight: bold; line-height: 1.2; margin: 0.67em 0; margin-bottom: 16px; margin-top: 0 !important; padding-bottom: 0.3em;">xadmin后台管理</h1>
<h2 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 28px; font-weight: bold; line-height: 1.225; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">xadmin添加富文本插件</h2>
<ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;">
<li style="box-sizing: border-box;">拷贝富文本插件源代码</li>
</ul>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><img src="http://md.100cxy.com/xadmin%E9%A1%B9%E7%9B%AE%E6%BA%90%E4%BB%A3%E7%A0%81.png" alt="xadmin项目源代码" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
<ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;">
<li style="box-sizing: border-box;">将事先写好的goods/users/trade/user_operation下的adminx文件拷贝进来</li>
</ul>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><img src="http://md.100cxy.com/%E9%85%8D%E7%BD%AExadmin.png" alt="配置xadmin" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
<h2 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 28px; font-weight: bold; line-height: 1.225; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">安装xadmin的依赖包</h2>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;">django&gt;=<span style="box-sizing: border-box; color: #008080;">1.9</span><span style="box-sizing: border-box; color: #008080;">.0</span>
django-crispy-forms
django-<span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span>-export
django-reversion
django-formtools
future
httplib2
six
xlwt 
xlsxwriter
</code></pre>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><a href="https://github.com/sshwsfc/xadmin" style="-webkit-text-decoration-skip: objects; background-color: transparent; box-sizing: border-box; color: #4078c0; text-decoration: none;">【xadmin官方链接】</a></p>
<h2 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 28px; font-weight: bold; line-height: 1.225; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">基本配置</h2>
<h3 style="box-sizing: border-box; font-size: 24px; font-weight: bold; line-height: 1.43; margin-bottom: 16px; margin-top: 1em;">生成迁移文件和执行迁移</h3>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;">python manage.py makemigrations
python manage.py migrate
</code></pre>
<h3 style="box-sizing: border-box; font-size: 24px; font-weight: bold; line-height: 1.43; margin-bottom: 16px; margin-top: 1em;">配置路由</h3>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> xadmin

<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> django.conf.urls <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> url,include

urlpatterns = [
    url(<span style="box-sizing: border-box; color: #d14;">'xadmin/'</span>, xadmin.site.urls),
    url(<span style="box-sizing: border-box; color: #d14;">'ueditor/'</span>, include(<span style="box-sizing: border-box; color: #d14;">'DjangoUeditor.urls'</span>)),
]

</code></pre>
<h3 style="box-sizing: border-box; font-size: 24px; font-weight: bold; line-height: 1.43; margin-bottom: 16px; margin-top: 1em;">创建一个管理员账户</h3>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;">python manage createsuperuser
</code></pre>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><img src="http://md.100cxy.com/xadmin%E5%90%8E%E5%8F%B0%E9%A1%B5%E9%9D%A2.png" alt="xadmin后台页面" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
<h3 style="box-sizing: border-box; font-size: 24px; font-weight: bold; line-height: 1.43; margin-bottom: 16px; margin-top: 1em;">设置中文</h3>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #998; font-style: italic;">#设置时区</span>
LANGUAGE_CODE = <span style="box-sizing: border-box; color: #d14;">'zh-hans'</span>  <span style="box-sizing: border-box; color: #998; font-style: italic;">#中文支持，django1.8以后支持；1.8以前是zh-cn</span>
TIME_ZONE = <span style="box-sizing: border-box; color: #d14;">'Asia/Shanghai'</span>
USE_I18N = <span style="box-sizing: border-box; color: #333; font-weight: bold;">True</span>
USE_L10N = <span style="box-sizing: border-box; color: #333; font-weight: bold;">True</span>
USE_TZ = <span style="box-sizing: border-box; color: #333; font-weight: bold;">False</span>   <span style="box-sizing: border-box; color: #998; font-style: italic;">#默认是Ture，时间是utc时间，由于我们要用本地时间，所用手动修改为false！！！！</span>
</code></pre>
<ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;">
<li style="box-sizing: border-box;">修改app名称</li>
</ul>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><img src="http://md.100cxy.com/%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%8701.png" alt="设置中文" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #998; font-style: italic;"># users/apps.py</span>
<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> django.apps <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> AppConfig


<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">class</span> <span style="box-sizing: border-box; color: #458; font-weight: bold;">UsersConfig</span><span style="box-sizing: border-box;">(AppConfig)</span>:</span>
    name = <span style="box-sizing: border-box; color: #d14;">'apps.users'</span>
    <span style="box-sizing: border-box; color: #998; font-style: italic;"># app名字后台显示中文</span>
    verbose_name = <span style="box-sizing: border-box; color: #d14;">"用户管理"</span>
</code></pre>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> django.apps <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> AppConfig


<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">class</span> <span style="box-sizing: border-box; color: #458; font-weight: bold;">UserOperationConfig</span><span style="box-sizing: border-box;">(AppConfig)</span>:</span>
    name = <span style="box-sizing: border-box; color: #d14;">'user_operation'</span>
    verbose_name = <span style="box-sizing: border-box; color: #d14;">"用户操作"</span>
</code></pre>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> django.apps <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> AppConfig


<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">class</span> <span style="box-sizing: border-box; color: #458; font-weight: bold;">GoodsConfig</span><span style="box-sizing: border-box;">(AppConfig)</span>:</span>
    name = <span style="box-sizing: border-box; color: #d14;">'goods'</span>
    verbose_name = <span style="box-sizing: border-box; color: #d14;">"商品管理"</span>
</code></pre>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> django.apps <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> AppConfig


<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">class</span> <span style="box-sizing: border-box; color: #458; font-weight: bold;">TradeConfig</span><span style="box-sizing: border-box;">(AppConfig)</span>:</span>
    name = <span style="box-sizing: border-box; color: #d14;">'trade'</span>
    verbose_name = <span style="box-sizing: border-box; color: #d14;">"交易管理"</span>
</code></pre>
<ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;">
<li style="box-sizing: border-box;">对应app的init文件需要添加一句话,才能生效</li>
</ul>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #998; font-style: italic;"># users/__init__.py</span>
default_app_config = <span style="box-sizing: border-box; color: #d14;">'users.apps.UsersConfig'</span>
</code></pre>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;">default_app_config = <span style="box-sizing: border-box; color: #d14;">'user_operation.apps.UserOperationConfig'</span>
</code></pre>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;">default_app_config = <span style="box-sizing: border-box; color: #d14;">'goods.apps.GoodsConfig'</span>
</code></pre>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;">default_app_config = <span style="box-sizing: border-box; color: #d14;">'trade.apps.TradeConfig'</span>
</code></pre>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><img src="http://md.100cxy.com/%E9%85%8D%E7%BD%AExadmin2.png" alt="配置xadmin2" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
<h1 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 32px; font-weight: bold; line-height: 1.2; margin: 0.67em 0; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">录入测试数据</h1>
<h2 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 28px; font-weight: bold; line-height: 1.225; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">导入商品类别数据</h2>
<ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;">
<li style="box-sizing: border-box;">由于分类和商品很多，就需要写个脚本导入数据
<ul style="box-sizing: border-box; margin-bottom: 0; margin-top: 0; padding-left: 2em;">
<li style="box-sizing: border-box;">db_tools下新建文件夹data，然后把前端的json文件（category_data和product_data）拷贝到里面
<img src="http://md.100cxy.com/json%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6.png" alt="json数据文件" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></li>
<li style="box-sizing: border-box;">把brands和goods图片拷贝到media目录下
<img src="http://md.100cxy.com/%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE.png" alt="图片数据" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></li>
</ul>
</li>
</ul>
<h3 style="box-sizing: border-box; font-size: 24px; font-weight: bold; line-height: 1.43; margin-bottom: 16px; margin-top: 1em;">db_tools下新建文件 import_category_data.py</h3>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;">
<span style="box-sizing: border-box; color: #998; font-style: italic;">#独立使用django的model</span>
<span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> sys
<span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> os

<span style="box-sizing: border-box; color: #998; font-style: italic;">#获取当前文件的路径（运行脚本）</span>
pwd = os.path.dirname(os.path.realpath(__file__))
<span style="box-sizing: border-box; color: #998; font-style: italic;"># 获取项目的根目录</span>
sys.path.append(pwd+<span style="box-sizing: border-box; color: #d14;">"../"</span>)
<span style="box-sizing: border-box; color: #998; font-style: italic;"># 要想单独使用django的model，必须指定一个环境变量，会去settings配置找</span>
<span style="box-sizing: border-box; color: #998; font-style: italic;"># 参照manage.py里面就知道为什么这样设置了</span>
os.environ.setdefault(<span style="box-sizing: border-box; color: #d14;">"DJANGO_SETTINGS_MODULE"</span>, <span style="box-sizing: border-box; color: #d14;">"LeShop.settings"</span>)

<span style="box-sizing: border-box; color: #998; font-style: italic;">#独立使用django的model</span>
<span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> django
django.setup()

<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> goods.models <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> GoodsCategory

<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> db_tools.data.category_data <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> row_data
<span style="box-sizing: border-box; color: #998; font-style: italic;">#一级类</span>
<span style="box-sizing: border-box; color: #333; font-weight: bold;">for</span> lev1_cat <span style="box-sizing: border-box; color: #333; font-weight: bold;">in</span> row_data:
    lev1_intance = GoodsCategory()
    lev1_intance.code = lev1_cat[<span style="box-sizing: border-box; color: #d14;">"code"</span>]
    lev1_intance.name = lev1_cat[<span style="box-sizing: border-box; color: #d14;">"name"</span>]
    lev1_intance.category_type = <span style="box-sizing: border-box; color: #008080;">1</span>
    <span style="box-sizing: border-box; color: #998; font-style: italic;"># 保存到数据库</span>
    lev1_intance.save()
    <span style="box-sizing: border-box; color: #998; font-style: italic;">#二级类</span>
    <span style="box-sizing: border-box; color: #333; font-weight: bold;">for</span> lev2_cat <span style="box-sizing: border-box; color: #333; font-weight: bold;">in</span> lev1_cat[<span style="box-sizing: border-box; color: #d14;">"sub_categorys"</span>]:
        lev2_intance = GoodsCategory()
        lev2_intance.code = lev2_cat[<span style="box-sizing: border-box; color: #d14;">"code"</span>]
        lev2_intance.name = lev2_cat[<span style="box-sizing: border-box; color: #d14;">"name"</span>]
        lev2_intance.category_type = <span style="box-sizing: border-box; color: #008080;">2</span>
        lev2_intance.parent_category = lev1_intance
        lev2_intance.save()
        <span style="box-sizing: border-box; color: #998; font-style: italic;">#三级类</span>
        <span style="box-sizing: border-box; color: #333; font-weight: bold;">for</span> lev3_cat <span style="box-sizing: border-box; color: #333; font-weight: bold;">in</span> lev2_cat[<span style="box-sizing: border-box; color: #d14;">"sub_categorys"</span>]:
            lev3_intance = GoodsCategory()
            lev3_intance.code = lev3_cat[<span style="box-sizing: border-box; color: #d14;">"code"</span>]
            lev3_intance.name = lev3_cat[<span style="box-sizing: border-box; color: #d14;">"name"</span>]
            lev3_intance.category_type = <span style="box-sizing: border-box; color: #008080;">3</span>
            lev3_intance.parent_category = lev2_intance
            lev3_intance.save()
</code></pre>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;">然后运行脚本 import_category_data.py  数据就可以保存到数据库了</p>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><img src="http://md.100cxy.com/%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE01.png" alt="导入数据01" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
<h2 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 28px; font-weight: bold; line-height: 1.225; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">导入商品数据</h2>
<ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;">
<li style="box-sizing: border-box;">在data目录下新建import_goods_data.py</li>
</ul>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> sys
<span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> os


pwd = os.path.dirname(os.path.realpath(__file__))
sys.path.append(pwd+<span style="box-sizing: border-box; color: #d14;">"../"</span>)
os.environ.setdefault(<span style="box-sizing: border-box; color: #d14;">"DJANGO_SETTINGS_MODULE"</span>, <span style="box-sizing: border-box; color: #d14;">"LeShop.settings"</span>)

<span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> django
django.setup()

<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> goods.models <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> Goods, GoodsCategory, GoodsImage

<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> db_tools.data.product_data <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> row_data

<span style="box-sizing: border-box; color: #333; font-weight: bold;">for</span> goods_detail <span style="box-sizing: border-box; color: #333; font-weight: bold;">in</span> row_data:
    goods = Goods()
    goods.name = goods_detail[<span style="box-sizing: border-box; color: #d14;">"name"</span>]
    <span style="box-sizing: border-box; color: #998; font-style: italic;"># 前端中是“￥232”，数据库中是float类型，所以要替换掉</span>
    goods.market_price = float(int(goods_detail[<span style="box-sizing: border-box; color: #d14;">"market_price"</span>].replace(<span style="box-sizing: border-box; color: #d14;">"￥"</span>, <span style="box-sizing: border-box; color: #d14;">""</span>).replace(<span style="box-sizing: border-box; color: #d14;">"元"</span>, <span style="box-sizing: border-box; color: #d14;">""</span>)))
    goods.shop_price = float(int(goods_detail[<span style="box-sizing: border-box; color: #d14;">"sale_price"</span>].replace(<span style="box-sizing: border-box; color: #d14;">"￥"</span>, <span style="box-sizing: border-box; color: #d14;">""</span>).replace(<span style="box-sizing: border-box; color: #d14;">"元"</span>, <span style="box-sizing: border-box; color: #d14;">""</span>)))
    goods.goods_brief = goods_detail[<span style="box-sizing: border-box; color: #d14;">"desc"</span>] <span style="box-sizing: border-box; color: #333; font-weight: bold;">if</span> goods_detail[<span style="box-sizing: border-box; color: #d14;">"desc"</span>] <span style="box-sizing: border-box; color: #333; font-weight: bold;">is</span> <span style="box-sizing: border-box; color: #333; font-weight: bold;">not</span> <span style="box-sizing: border-box; color: #333; font-weight: bold;">None</span> <span style="box-sizing: border-box; color: #333; font-weight: bold;">else</span> <span style="box-sizing: border-box; color: #d14;">""</span>
    goods.goods_desc = goods_detail[<span style="box-sizing: border-box; color: #d14;">"goods_desc"</span>] <span style="box-sizing: border-box; color: #333; font-weight: bold;">if</span> goods_detail[<span style="box-sizing: border-box; color: #d14;">"goods_desc"</span>] <span style="box-sizing: border-box; color: #333; font-weight: bold;">is</span> <span style="box-sizing: border-box; color: #333; font-weight: bold;">not</span> <span style="box-sizing: border-box; color: #333; font-weight: bold;">None</span> <span style="box-sizing: border-box; color: #333; font-weight: bold;">else</span> <span style="box-sizing: border-box; color: #d14;">""</span>
    <span style="box-sizing: border-box; color: #998; font-style: italic;"># 取第一张作为封面图</span>
    goods.goods_front_image = goods_detail[<span style="box-sizing: border-box; color: #d14;">"images"</span>][<span style="box-sizing: border-box; color: #008080;">0</span>] <span style="box-sizing: border-box; color: #333; font-weight: bold;">if</span> goods_detail[<span style="box-sizing: border-box; color: #d14;">"images"</span>] <span style="box-sizing: border-box; color: #333; font-weight: bold;">else</span> <span style="box-sizing: border-box; color: #d14;">""</span>

    category_name = goods_detail[<span style="box-sizing: border-box; color: #d14;">"categorys"</span>][<span style="box-sizing: border-box; color: #008080;">-1</span>]
    <span style="box-sizing: border-box; color: #998; font-style: italic;"># 取出当前子类对应的GoodsCategory对象，filter没有匹配的会返回空数组，不会抛异常。</span>
    category = GoodsCategory.objects.filter(name=category_name)
    <span style="box-sizing: border-box; color: #333; font-weight: bold;">if</span> category:
        goods.category = category[<span style="box-sizing: border-box; color: #008080;">0</span>]
    goods.save()

    <span style="box-sizing: border-box; color: #333; font-weight: bold;">for</span> goods_image <span style="box-sizing: border-box; color: #333; font-weight: bold;">in</span> goods_detail[<span style="box-sizing: border-box; color: #d14;">"images"</span>]:
        goods_image_instance = GoodsImage()
        goods_image_instance.image = goods_image
        goods_image_instance.goods = goods
        goods_image_instance.save()
</code></pre>
<h1 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 32px; font-weight: bold; line-height: 1.2; margin: 0.67em 0; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">其他配置</h1>
<h2 style="border-bottom: 1px solid #eee; box-sizing: border-box; font-size: 28px; font-weight: bold; line-height: 1.225; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;">配置media路径</h2>
<p style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0;"><img src="http://md.100cxy.com/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0.png" alt="文件上传" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #998; font-style: italic;"># settings.py </span>
<span style="box-sizing: border-box; color: #998; font-style: italic;"># 设置上传文件的路径</span>
MEDIA_URL=<span style="box-sizing: border-box; color: #d14;">"/media/"</span>
MEDIA_ROOT=os.path.join(BASE_DIR,<span style="box-sizing: border-box; color: #d14;">"media"</span>)
</code></pre>
<pre style="background: #f8f8f8; border-radius: 3px; box-sizing: border-box; color: #333; display: block; font: 12px Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-family: Helvetica Neue,Helvetica,Segoe UI,Arial !important; font-size: 18px !important; line-height: 1.45; margin-bottom: 16px; margin-top: 0; overflow: auto; overflow-x: auto; padding: 16px; word-wrap: normal;"><code style="background: transparent; background-color: transparent; border: 0; border-radius: 3px; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 100%; line-height: inherit; margin: 0; max-width: initial; overflow: initial; padding: 0; padding-bottom: 0.2em; padding-top: 0.2em; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: #998; font-style: italic;"># urls.py </span>
<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> django.conf.urls <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> url, include
<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> django.views.static <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> serve
<span style="box-sizing: border-box; color: #333; font-weight: bold;">from</span> LeShop.settings <span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> MEDIA_ROOT
<span style="box-sizing: border-box; color: #333; font-weight: bold;">import</span> xadmin

urlpatterns = [
    url(<span style="box-sizing: border-box; color: #d14;">'xadmin/'</span>, xadmin.site.urls),
    url(<span style="box-sizing: border-box; color: #d14;">'ueditor/'</span>, include(<span style="box-sizing: border-box; color: #d14;">'DjangoUeditor.urls'</span>)),
    <span style="box-sizing: border-box; color: #998; font-style: italic;"># 文件</span>
    url(<span style="box-sizing: border-box; color: #d14;">r'^media/(?P&lt;path&gt;.*)$'</span>, serve, {<span style="box-sizing: border-box; color: #d14;">"document_root"</span>: MEDIA_ROOT}),
]

</code></pre>
<p style="box-sizing: border-box; margin-bottom: 0 !important; margin-top: 0;"><img src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190226113755.png" alt="文件上传2" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></p>
</div></body></html>