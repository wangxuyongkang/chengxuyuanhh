<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.5 (458014)"/><meta name="created" content="2019-03-10 07:08:23 +0000"/><meta name="updated" content="2019-04-25 11:49:44 +0000"/><meta name="content-class" content="michalyao.vscode.evermonkey"/><title>乐农客05</title></head><body><div style="text-size-adjust: 100%; margin-bottom: 50px; word-wrap: break-word; font-size: 26px !important;"><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin-right: 0px; margin-left: 0px; margin-bottom: 16px; padding-bottom: 0.3em; margin-top: 0px !important;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">用户登陆与手机注册</span></h1><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">DRF的token</span></h1><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">INSTALL_APP中添加</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">INSTALLED_APPS = [</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">....</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'rest_framework.authtoken'</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">]</span></div></div><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">生成迁移、执行迁移文件</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">token会生成一张表authtoken_token</span></div></li></ul><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302140834" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302140834.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">URL 配置</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">...</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework.authtoken</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">views</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">...</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">...</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">urlpatterns = [</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">...</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># drf token</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">url(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">r"api-token-auth/"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,views.obtain_auth_token)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">]</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">postman验证</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302141830" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302141830.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">token值会保存到数据中,跟这个用户相关联</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302141929" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302141929.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">要想获取request.user和request.auth还要在settings中添加</span></div><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">REST_FRAMEWORK = {</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'DEFAULT_AUTHENTICATION_CLASSES'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">: (</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'rest_framework.authentication.BasicAuthentication'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'rest_framework.authentication.SessionAuthentication'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'rest_framework.authentication.TokenAuthentication'</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">}</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">客户端身份验证</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">对于客户端进行身份验证，令牌密钥应包含在 Authorization HTTP header 中。关键字应以字符串文字 “Token” 为前缀，用空格分隔两个字符串。例如：</span></div><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">Authorization: Token</span> <span style="box-sizing: border-box; color: rgb(0, 128, 128); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">0</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">cd2dc13840609378b463c99ef8d1cb4ae868d9c</span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302143413" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302143413.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302143900" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302143900.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">drf的token缺点</span></h2><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">保存在数据库中，如果是一个分布式的系统，就非常麻烦</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">token永久有效，没有过期时间。</span></div></li></ul><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">JWT方式完成用户认证</span></h1><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><a href="http://getblimp.github.io/django-rest-framework-jwt/" style="background-color: transparent; box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6; color: rgb(64, 120, 192); text-decoration: none;">【JWT使用方法】</a> <a href="http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html" style="background-color: transparent; box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6; color: rgb(64, 120, 192); text-decoration: none;">【JSON Web Tokens原理、结构】</a></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">安装</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">pip install djangorestframework-jwt</span></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">使用</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">REST_FRAMEWORK = {</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'DEFAULT_AUTHENTICATION_CLASSES'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">: (</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'rest_framework.authentication.BasicAuthentication'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'rest_framework.authentication.SessionAuthentication'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 'rest_framework.authentication.TokenAuthentication'</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'rest_framework_jwt.authentication.JSONWebTokenAuthentication'</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">}</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">URL配置</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework_jwt.views</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">obtain_jwt_token</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#...</span></code></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">urlpatterns = [</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">''</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># ...</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">url(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">r'^api-token-auth/'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">, obtain_jwt_token),</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">]</span></div></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302145045" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302145045.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302145527" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302145527.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img alt="微信截图_20190302145444" src="http://md.100cxy.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190302145444.png" style="background-color: #fff; border-style: none; box-sizing: content-box; max-width: 100%;"/></span></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">vue和jwt接口调试</span></h1><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">vue中的登陆接口是login</span></div></li></ul><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">//登录</span></code></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">export</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">const</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">login =</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">params</span> =&gt;</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">{</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">axios.post(</span><span style="color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">`</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">${local_host}</span><span style="color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">/login/`</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">, params)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">}</span></div></div><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">后台的接口跟前端要一致</span></div></li></ul><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">urlpatterns = [</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># jwt的认证接口</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">url(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'login/'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">, obtain_jwt_token )</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">]</span></div></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A205.resources/EC9C7CD9-2266-47C5-90C4-42F3FF1A88B4.png" height="256" width="442"/></span></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">自定义用户认证</span></h1><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">jwt接口它默认采用的是用户名和密码登录验证，如果用手机登录的话，就会验证失败，所以我们需要自定义一个用户验证</span></div></li></ul><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">django.shortcuts</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">render</span></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># Create your views here.</span></code></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">django.contrib.auth.backends</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">ModelBackend</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">django.contrib.auth</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">get_user_model</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">django.db.models</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">Q</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">User = get_user_model()</span></div><div><br/></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">CustomBackend</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(ModelBackend)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">自定义用户验证</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></code></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">authenticate</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self, username=None, password=None, **kwargs)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">try</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 用户名和手机都能登录</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">user = User.objects.get(</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">Q(username=username) | Q(mobile=username))</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">if</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">user.check_password(password):</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">user</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">except</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">Exception</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">as</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">e:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">None</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">在settings中设置</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important; margin-bottom: 0px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">AUTHENTICATION_BACKENDS = (</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'users.views.CustomBackend'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">datetime</span></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 有效期限</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">JWT_AUTH = {</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'JWT_EXPIRATION_DELTA'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">: datetime.timedelta(days=</span><span style="box-sizing: border-box; color: rgb(0, 128, 128); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">7</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">),</span> <span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 也可以设置seconds=20</span></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'JWT_AUTH_HEADER_PREFIX'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'JWT'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># JWT跟前端保持一致，比如“token”这里设置成JWT</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">}</span></div></div></div></body></html>