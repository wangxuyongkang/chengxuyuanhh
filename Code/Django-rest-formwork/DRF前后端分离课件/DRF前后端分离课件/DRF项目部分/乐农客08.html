<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.5 (458014)"/><meta name="created" content="2019-03-10 07:08:53 +0000"/><meta name="updated" content="2019-06-06 13:24:42 +0000"/><meta name="content-class" content="michalyao.vscode.evermonkey"/><title>乐农客08</title></head><body><div style="text-size-adjust: 100%; margin-bottom: 50px; word-wrap: break-word; font-size: 26px !important;"><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin-right: 0px; margin-left: 0px; margin-bottom: 16px; padding-bottom: 0.3em; margin-top: 0px !important;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">个人中心功能开发</span></h1><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">DRF的API文档自动生成</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework.documentation</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">include_docs_urls</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">urlpatterns = [</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">.....</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">url(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">r'docs/'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">, include_docs_urls(title=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'乐农客'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">))</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">]</span></div></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A208.resources/C50D2261-1699-4C4E-8C91-6EB0593F5443.png" height="894" width="1873"/></span></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">DRF文档的优点</span></h2><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">自动生成</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">文档里可以做交互和测试</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">可以生成js shell python代码段</span></div></li></ul><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">集成swagger</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><a href="https://django-rest-swagger.readthedocs.io/en/latest/" style="background-color: transparent; box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6; color: rgb(64, 120, 192); text-decoration: none;">【swagger集成教程】</a></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">动态设置serializer和permission获取用户信息</span></h1><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">用户个人信息修改，因为手机号是验证过的，不能随便改</span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A208.resources/BFC5C510-C27B-45BF-AA76-446CA4681F6B.png" height="336" width="934"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">在会员中心页面，想要获取个人信息，只需在UserViewset中多继承一个类：mixins.RetrieveModelMixin</span></div><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(mixins.CreateModelMixin, mixins.RetrieveModelMixin,viewsets.GenericViewSet)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">序列化</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserDetailSerializer</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(serializers.ModelSerializer)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">用户详情</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></code></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = User</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields = (</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"name"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"gender"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"birthday"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"email"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"mobile"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">后台逻辑</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">....</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework.authentication</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">SessionAuthentication</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework_jwt.authentication</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">JSONWebTokenAuthentication</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">...</span></div><div><br/></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(mixins.CreateModelMixin, mixins.RetrieveModelMixin, viewsets.GenericViewSet)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">用户</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">queryset = User.objects.all()</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">authentication_classes = (JSONWebTokenAuthentication, SessionAuthentication)</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">.....</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 这里需要动态权限配置</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 1.用户注册的时候不应该有权限限制</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 2.当想获取用户详情信息的时候，必须登录才行</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">get_permissions</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">if</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">self.action ==</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"retrieve"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">[permissions.IsAuthenticated()]</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">elif</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">self.action ==</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"create"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">[]</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">[]</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 这里需要动态选择用哪个序列化方式</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 1.UserRegSerializer（用户注册），只返回username和mobile，会员中心页面需要显示更多字段，所以要创建一个UserDetailSerializer</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 2.问题又来了，如果注册的使用userdetailSerializer，又会导致验证失败，所以需要动态的使用serializer</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">get_serializer_class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">if</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">self.action ==</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"retrieve"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserDetailSerializer</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">elif</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">self.action ==</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"create"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserRegSerializer</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserDetailSerializer</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 虽然继承了Retrieve可以获取用户详情，但是并不知道用户的id，所有要重写get_object方法</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 重写get_object方法，就知道是哪个用户了</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">get_object</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">self.request.user</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">....</span></div></div><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">主要添加的内容：</span></div></li><ul style="box-sizing: border-box; margin-bottom: 0; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">继承mixins.RetrieveModelMixin --&gt;&gt;获取用户信息</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">重写get_object --&gt;&gt;获取登录的用户</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">get_permissions --&gt;&gt;动态权限分配</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">get_serializer_class --&gt;&gt;动态序列化分配</span></div></li></ul></ul><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">现在就可以从数据库获取用户的信息了</span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A208.resources/B696727D-B8FF-4C7F-8A0E-971D687636E7.png" height="556" width="1503"/></span></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">用户信息修改</span></h1><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">只需要多添加一个继承mixins.UpdateModelMixin就可以了</span></div><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(CreateModelMixin,mixins.RetrieveModelMixin,mixins.UpdateModelMixin,viewsets.GenericViewSet)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A208.resources/B696727D-B8FF-4C7F-8A0E-971D687636E7.png" height="556" width="1503"/></span></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">用户收藏</span></h1><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">用户收藏商品详情</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">goods.serializers</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">GoodsSerializer</span></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserFavDetailSerializer</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(serializers.ModelSerializer)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">用户收藏详情</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></code></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#通过商品id获取收藏的商品，需要嵌套商品的序列化</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">goods = GoodsSerializer()</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = UserFav</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields = (</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"goods"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"id"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">动态设置serializer</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserFavViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(viewsets.GenericViewSet, mixins.ListModelMixin, mixins.CreateModelMixin, mixins.DestroyModelMixin)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">用户收藏</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">....</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">get_serializer_class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">if</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">self.action ==</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"list"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserFavDetailSerializer</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">elif</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">self.action ==</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"create"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserFavSerializer</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserFavSerializer</span></div></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A208.resources/5D9640E2-6522-4134-BB4D-B5D4F1F4C364.png" height="417" width="1519"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">在会员中心可以看到已收藏的商品以及详细信息，点删除，可以删除对应的商品</span></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">用户留言功能</span></h1><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">序列化</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">LeavingMessageSerializer</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(serializers.ModelSerializer)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">用户留言</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></code></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 获取当前登录的用户</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">user = serializers.HiddenField(</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">default=serializers.CurrentUserDefault()</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#read_only:只返回，post时候可以不用提交，format：格式化输出</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">add_time = serializers.DateTimeField(read_only=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">True</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">, format=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'%Y-%m-%d %H:%M'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = UserLeavingMessage</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields = (</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"user"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"message_type"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"subject"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"message"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"file"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"id"</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"add_time"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">后台逻辑</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># user_operation/views.py</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">LeavingMessageViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(mixins.ListModelMixin, mixins.DestroyModelMixin, mixins.CreateModelMixin,</span></span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">viewsets.GenericViewSet)</span>:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">list:</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">获取用户留言</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">create:</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">添加留言</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">delete:</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">删除留言功能</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></code></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">permission_classes = (IsAuthenticated, IsOwnerOrReadOnly)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">authentication_classes = (JSONWebTokenAuthentication, SessionAuthentication)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">serializer_class = LeavingMessageSerializer</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 只能看到自己的留言</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">get_queryset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserLeavingMessage.objects.filter(user=self.request.user)</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">配置URL</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 配置用户留言的url</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">router.register(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">r'messages'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">, LeavingMessageViewset, base_name=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"messages"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">用户收货地址</span></h1><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">序列化</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># user_operation/serializers.py</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">AddressSerializer</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(serializers.ModelSerializer)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">user = serializers.HiddenField(</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">default=serializers.CurrentUserDefault()</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">add_time = serializers.DateTimeField(read_only=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">True</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">, format=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'%Y-%m-%d %H:%M'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = UserAddress</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields = (</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"id"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"user"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"province"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"city"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"district"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"address"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"signer_name"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"add_time"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"signer_mobile"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">后台逻辑</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># user_operation/views.py</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">AddressViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(viewsets.ModelViewSet)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">收货地址管理</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">list:</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">获取收货地址</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">create:</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">添加收货地址</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">update:</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">更新收货地址</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">delete:</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">删除收货地址</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">permission_classes = (IsAuthenticated, IsOwnerOrReadOnly)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">authentication_classes = (JSONWebTokenAuthentication, SessionAuthentication)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">serializer_class = AddressSerializer</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">get_queryset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserAddress.objects.filter(user=self.request.user)</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">配置URL</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 配置收货地址</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">router.register(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">r'address'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,AddressViewset , base_name=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"address"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px !important;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A208.resources/59ECEEF1-4E9D-4775-80FC-B2696FFD1C03.png" height="620" width="1241"/></span></div></div></body></html>