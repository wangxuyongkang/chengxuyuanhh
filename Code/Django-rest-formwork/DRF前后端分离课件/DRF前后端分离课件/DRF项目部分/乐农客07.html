<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.5 (458014)"/><meta name="created" content="2019-03-10 07:08:49 +0000"/><meta name="updated" content="2019-03-10 08:44:32 +0000"/><meta name="content-class" content="michalyao.vscode.evermonkey"/><title>乐农客07</title></head><body><div style="text-size-adjust: 100%; margin-bottom: 50px; word-wrap: break-word; font-size: 26px !important;"><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin-right: 0px; margin-left: 0px; margin-bottom: 16px; padding-bottom: 0.3em; margin-top: 0px !important;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">商品详情页功能</span></h1><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">viewsets实现商品详情页接口</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">商品详情页只需要多继承一个类（mixins.RetrieveModelMixin）就可以了</span></div><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">GoodsListViewSet</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(mixins.ListModelMixin, mixins.RetrieveModelMixin, viewsets.GenericViewSet)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">商品轮播图</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A207.resources/4CB7CA3E-6F72-4C00-A9D4-744F15FD78DA.png" height="588" width="1415"/></span></div><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 商品轮播图</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">GoodsImageSerializer</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(serializers.ModelSerializer)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = GoodsImage</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields = (</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"image"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,)</span></div><div><br/></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">GoodsSerializer</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(serializers.ModelSerializer)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># 覆盖外键字段</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">category = CategorySerializer()</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># images是数据库中设置的related_name="images"，把轮播图嵌套进来</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">images = GoodsImageSerializer(many=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">True</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = Goods</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields =</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"__all__"</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">热卖商品</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A207.resources/AAD19800-58B4-4AFC-927D-296CF7B40364.png" height="701" width="1604"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">只需要在过滤器中增加“is_hot”就可以了 goods/filters.py里的GoodsFilter添加“is_hot”</span></div><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">GoodsFilter</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(django_filters.rest_framework.FilterSet)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">商品过滤类</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">....</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = Goods</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields = [</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"pricemin"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'pricemax'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"is_hot"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">]</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">用户收藏接口实现</span></h2><h3 style="box-sizing: border-box; font-size: 24px; margin-bottom: 16px; margin-top: 1em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 24px; line-height: 1.43; font-weight: bold;">序列化</span></h3><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># user_operation/serializers.py</span></code></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">serializers</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">user_operation.models</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserFav</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework.validators</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UniqueTogetherValidator</span></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserFavSerializer</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(serializers.ModelSerializer)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#获取当前登录的用户</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">user = serializers.HiddenField(</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">default=serializers.CurrentUserDefault()</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">Meta</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#validate实现唯一联合，一个商品只能收藏一次</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">validators = [</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UniqueTogetherValidator(</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">queryset=UserFav.objects.all(),</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields=(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'user'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'goods'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">),</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#message的信息可以自定义</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">message=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"已经收藏"</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">]</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">model = UserFav</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#收藏的时候需要返回商品的id，因为取消收藏的时候必须知道商品的id是多少</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">fields = (</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"user"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"goods"</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">,</span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'id'</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">)</span></div></div><h3 style="box-sizing: border-box; font-size: 24px; margin-bottom: 16px; margin-top: 1em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 24px; line-height: 1.43; font-weight: bold;">视图</span></h3><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># user_operaton/views.py</span></code></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">viewsets</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">mixins</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">.models</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserFav</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">.serializers</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserFavSerializer</span></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserFavViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(viewsets.GenericViewSet, mixins.ListModelMixin, mixins.CreateModelMixin, mixins.DestroyModelMixin)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">用户收藏</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">queryset = UserFav.objects.all()</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">serializer_class = UserFavSerializer</span></div></div><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">说明:继承的类</span></div></li><ul style="box-sizing: border-box; margin-bottom: 0; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">mixins.CreateModelMixin 添加收藏</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">mixins.DestroyModelMixin 取消收藏</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">mixins.ListModelMixin 获取已收藏的商品</span></div></li></ul></ul><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">测试代码</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A207.resources/DDA78138-F079-4C54-9AAF-20587EFE78D0.png" height="975" width="1532"/></span></div><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;"><img src="%E4%B9%90%E5%86%9C%E5%AE%A207.resources/EC3867B0-6A70-4656-A49C-02BEF7F9E0C5.png" height="617" width="1533"/></span></div><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">DRF权限认证</span></h1><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">自定义权限</span></h2><div style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0px;"><a href="http://www.iamnancy.top/djangorestframework/Permissions/#_1" style="background-color: transparent; box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6; color: rgb(64, 120, 192); text-decoration: none;">【自定义权限官方文档】</a></div><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">utils文件夹下新建permissions,代码如下：</span></div></li></ul><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">permissions</span></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">IsOwnerOrReadOnly</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(permissions.BasePermission)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">Object-level permission to only allow owners of an object to edit it.</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">Assumes the model instance has an `owner` attribute.</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">"""</span></code></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">has_object_permission</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self, request, view, obj)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># Read permissions are allowed to any request,</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># so we'll always allow GET, HEAD or OPTIONS requests.</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">if</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">request.method</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">in</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">permissions.SAFE_METHODS:</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">True</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># Instance must have an attribute named `owner`.</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#obj相当于数据库中的model，这里要把owner改为我们数据库中的user</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">obj.user == request.user</span></div></div><h2 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 28px; margin-bottom: 16px; margin-top: 1em; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 28px; line-height: 1.225; font-weight: bold;">后台逻辑</span></h2><div style="background: rgb(248, 248, 248); border-radius: 3px; box-sizing: border-box; margin-bottom: 16px; margin-top: 0px; overflow: auto; padding: 16px; word-wrap: normal; font-size: 18px !important;"><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">...</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">...</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework.permissions</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">IsAuthenticated</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">utils.permissions</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">IsOwnerOrReadOnly</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework_jwt.authentication</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">JSONWebTokenAuthentication</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">from</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">rest_framework.authentication</span> <span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">import</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">SessionAuthentication</span></div><div><br/></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">class</span> <span style="box-sizing: border-box; color: rgb(68, 85, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">UserFavViewset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(viewsets.GenericViewSet, mixins.ListModelMixin, mixins.CreateModelMixin, mixins.DestroyModelMixin)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></code></div><div><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">用户收藏</span></code></div><div><code style="background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; font-size: 100%; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;"><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'''</span></code></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">serializer_class = UserFavSerializer</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#permission是用来做权限判断的</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;"># IsAuthenticated：必须登录用户；IsOwnerOrReadOnly：必须是当前登录的用户</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">permission_classes = (IsAuthenticated,IsOwnerOrReadOnly)</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#auth使用来做用户认证的</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">authentication_classes = (JSONWebTokenAuthentication,SessionAuthentication)</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#搜索的字段</span></div><div><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">lookup_field =</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">'goods_id'</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">def</span> <span style="box-sizing: border-box; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">get_queryset</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent;">(self)</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background-color: transparent; box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: italic; font-variant: normal; font-weight: normal; background-color: transparent;">#只能查看当前登录用户的收藏，不会获取所有用户的收藏</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold; background-color: transparent;">return</span> <span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 100%; line-height: 1.45; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: normal; background: transparent; border: 0px; border-radius: 3px; box-sizing: border-box; margin: 0px; max-width: initial; overflow: initial; padding: 0.2em 0px; white-space: pre; word-break: normal; word-wrap: normal;">UserFav.objects.filter(user=self.request.user)</span></div></div><ul style="box-sizing: border-box; margin-bottom: 16px; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">说明:</span></div></li><ul style="box-sizing: border-box; margin-bottom: 0; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">只有登录用户才可以收藏</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">用户只能获取自己的收藏，不能获取所有用户的收藏</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">JSONWebTokenAuthentication认证不应该全局配置，因为用户获取商品信息或者其它页面的时候并不需要此认证，所以这个认证只要局部中添加就可以</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">删除settings中的'rest_framework_jwt.authentication.JSONWebTokenAuthentication',</span></div></li></ul></ul><h1 style="border-bottom: 1px solid rgb(238, 238, 238); box-sizing: border-box; font-size: 32px; margin: 1em 0px 16px; padding-bottom: 0.3em;"><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 32px; line-height: 1.2; font-weight: bold;">用户收藏功能和vue联调</span></h1><ul style="box-sizing: border-box; margin-bottom: 0 !important; margin-top: 0; padding-left: 2em;"><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">删除收藏：根据商品'goods_id'</span></div></li><li style="box-sizing: border-box;"><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif, 微软雅黑, &quot;Heiti SC Light&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 26px; line-height: 1.6;">已收藏的商品显示“已收藏”，没有收藏就显示“收藏”</span></div></li></ul></div></body></html>