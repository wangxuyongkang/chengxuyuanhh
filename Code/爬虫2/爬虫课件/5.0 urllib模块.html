<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.5 (458014)"/><meta name="altitude" content="37.99938583374023"/><meta name="author" content="李居豪"/><meta name="created" content="2019-05-20 07:25:05 +0000"/><meta name="latitude" content="39.63001481617211"/><meta name="longitude" content="116.0477189981567"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-06-11 01:30:14 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>5.0 urllib模块</title></head><body><div><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%; box-sizing: content-box;">urllib库的基本使用</span></h2><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">所谓网页抓取，就是把URL地址中指定的网络资源从网络流中读取出来，保存到本地。 在Python中有很多库可以用来抓取网页，我们先学习urllib。</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">我们会从下面三个方面讲解urllib:</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">request</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">: 它是最基本的HTTP请求模块，可以用来模拟发送请求，就像在浏览器中输入网址，然后敲击回车键一样，使用的时候只需要给库方法传入相关的URL和相关的参数即可．</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">error</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">: 异常处理模块，如果出现请求错误，我们可以使用这个模块来捕获异常，然后进行重试或者其他操作，保证程序不会意外终止．</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">parse</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">: 这是一个工具模块，提供了许多url的处理方法，比如拆分,解析,合并等等.</span></div></li></ul><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">在 python2 中，urllib 被分为urllib,urllib2等，在python3中我们直接使用urllib</span></div><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%; box-sizing: content-box;">urlopen方法的使用</span></h2><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 导入urllib.request 库</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">import urllib.request</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 向指定的url发送请求，并返回服务器响应的类文件对象</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = urllib.request.urlopen("http://www.baidu.com")</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(type(response))</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 类文件对象支持文件对象的操作方法，</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">如read()方法读取文件全部内容，返回</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">字符串(注意我们在使用read()获取响应</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">结果的时候，执行一次后，下次在执行就没有数据了)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">html = response.read()</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 打印响应结果（betys类型）</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (html)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 打印状态码</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (response.status)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 获取响应头</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (response.getheaders())</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 获取响应头信息</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (response.getheader('Server'))</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 获取响应结果原因</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (response.reason)</span></div></div></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">url</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">:设置目标url</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">data</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">:如果设置该参数，则请求默认为post请求</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">timeout</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：用于设置超时时间，单位为秒</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">context</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：必须是一个ssl.SSLContext类型,用来指定SSL设置,忽略未认证的CA证书</span></div></li></ul><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%; box-sizing: content-box;">Request</span></h2><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">使用urlopen直接发送请求，获取一些反爬手段低的网站，有些网站会根据请求头来判断是否是浏览器访问，则需要增加HTTP报头，必须创建一个 Request 实例来作为urlopen()的参数；而需要访问的url地址则作为 Request 实例的参数。</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">url 参数是请求链接，这个是必传参数，其他的都是可选参数。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">data（默认空） 参数跟 urlopen() 中的 data 参数用法相同。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">headers（默认空） 是一个字典。它除了在 Request 中添加，还可以通过调用 Reques t实例的 add_header() 方法来添加请求头。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">unverifiable 参数表示这个请求是否是无法验证的，默认值是False。意思就是说用户没有足够权限来选择接收这个请求的结果。例如我们请求一个HTML文档中的图片，但是我们没有自动抓取图像的权限，我们就要将 unverifiable 的值设置成 True。(这个参数我们不需要设置)</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">method 参数指的是发起的 HTTP 请求的方式</span></div></li></ul><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># urllib_request.py</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">import urllib.request</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">headers = {"User-Agent" : "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36",}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># url作为Request()方法的参数，构造并返回一个Request对象</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">request = urllib.request.Request(url="http://www.baidu.com"，headers=headers)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># Request对象作为urlopen()方法的参数，发送给服务器并接收响应</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = urllib.request.urlopen(request)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#将获取到的页面源码，转为字符串</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">html = response.read().decode('utf-8')</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (html)</span></div></div></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">urllib 的异常错误处理</span></h2><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">urllib 的异常错误处理</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">我们在发送请求的过程中，如果网络环境不好，或者出现了其他问题，会出现请求异常，如果不处理这些异常，程序很可能会崩溃，所以我们需要处理请求异常问题．</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">URLError</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">:来自urllib库的error模块，继承自OSError,由request模块产生的异常都可以通过捕捉这个类来处理．</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">产生的原因主要有：</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">没有网络连接</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">服务器连接失败</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">找不到指定的服务器</span></div></li></ul><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">它具有一个属性reason,返回错误的原因</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">HTTPError</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">HTTPError是URLError的子类，我们发出一个请求时，服务器上都会对应一个response应答对象，其中它包含一个数字"响应状态码"。</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">专门用来处理ＨTTP请求错误，比如未认证，页面不存在等</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">有三个属性：</span></div></li><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 0px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">code:返回HTTP的状态码</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">reason:返回错误原因</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">headers:返回请求头</span></div></li></ul></ul><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">具体使用，因为HTTPError的父类是URLError，所以我们更好的处理顺序应该是先捕获子类的错误，再捕获父类的错误</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from urllib import request,error</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">def check_error(req_url，headers):</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">因为HTTPError的父类是URLError，所以我们更好的处理顺序应该是</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">先捕获子类的错误，再捕获父类的错误</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">try:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = request.urlopen(url=req_url，headers=headers)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(response.status)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.HTTPError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(err.code,err.reason,err.headers)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.URLError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print('===', err.reason)</span></div></div></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">parse模块下常用的url解析、合并、编码、解码方法</span></h2><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">使用时需导入</span></h4><blockquote style="box-sizing: content-box; margin: 15px 0px; border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">from urllib import parse</span></div></blockquote><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">urlencode()将字典构形式的参数序列化为url编码后的字符串</span></h4><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">（常用来构造get请求和post请求的参数）k1=v1&amp;k2=v2</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">parmas = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'wd':'123',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'page':20</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">parmas_str = parse.urlencode(parmas)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(parmas_str)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">page=20&amp;wd=123</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">parse_qs()将url编码格式的参数反序列化为字典类型</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">parmas_str = 'page=20&amp;wd=123'</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">parmas = parse.parse_qs(parmas_str)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(parmas)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">{'page': ['20'], 'wd': ['123']}</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">quote()可以将中文转换为URL编码格式</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">word = '中国梦'</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url = 'http://www.baidu.com/s?wd='+parse.quote(word)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(parse.quote(word))</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(url)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">%E4%B8%AD%E5%9B%BD%E6%A2%A6</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">http://www.baidu.com/s?wd=%E4%B8%AD%E5%9B%BD%E6%A2%A6</span></div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">unquote:可以将URL编码进行解码</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url = 'http://www.baidu.com/s?wd=%E4%B8%AD%E5%9B%BD%E6%A2%A6'</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(parse.unquote(url))</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">http://www.baidu.com/s?wd=中国梦</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">urljoin()传递一个基础链接,根据基础链接可以将某一个不完整的链接拼接为一个完整链接</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">base_url = 'https://book.qidian.com/info/1004608738?wd=123&amp;page=20#Catalog'</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">sub_url = '/info/100861102'</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">full_url = parse.urljoin(base_url,sub_url)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(full_url)</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">urlparse()实现URL的识别和分段（了解）</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url = 'https://book.qidian.com/info/1004608738?wd=123&amp;page=20#Catalog'</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url：待解析的url</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">scheme=''：假如解析的url没有协议,可以设置默认的协议,如果url有协议，设置此参数无效</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">allow_fragments=True：是否忽略锚点,默认为True表示不忽略,为False表示忽略</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">result = parse.urlparse(url=url,scheme='http',allow_fragments=True)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(result)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(result.scheme)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">(scheme='https', netloc='book.qidian.com', path='/info/1004608738', params='', query='wd=123&amp;page=20', fragment='Catalog')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">scheme:表示协议</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">netloc:域名</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">path:路径</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">params:参数</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">query:查询条件，一般都是get请求的url</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">fragment:锚点，用于直接定位页</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">面的下拉位置，跳转到网页的指定位置</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">urlunparse()可以实现URL的构造（了解）</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url_parmas = ('https', 'book.qidian.com', '/info/1004608738', '', 'wd=123&amp;page=20', 'Catalog')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#components:是一个可迭代对象，长度必须为6</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">result = parse.urlunparse(url_parmas)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(result)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">https://book.qidian.com/info/1004608738?wd=123&amp;page=20#Catalog</span></div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"""</span></div></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">GET请求</span></h4><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">url地址中包含中文参数的get请求</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># urllib_get.py</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url = "http://www.baidu.com/s"</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">word = {"wd":"六一儿童节，可我还是单身"}</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">word = urllib.parse.urlencode(word) #转换成url编码格式（字符串）</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">newurl = url + "?" + word</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">headers={</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"User-Agent": "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">request = urllib.request.Request(newurl, headers=headers)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = urllib.request.urlopen(request)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">html = response.read()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (html)</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">POST请求</span></h4><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Request请求对象的里有data参数，它就是用在POST里的，我们要传送的数据就是这个参数data，data是一个字典，里面要匹配键值对。</span></div><h5 style="box-sizing: content-box; font-size: 16px;"><span style="font-size: 16px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">实战：拉钩网post请求</span></h5><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from urllib.parse import urlencode</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from urllib import request,error</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">def lagouSpider():</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">keyword = 'java'</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 构建url发起请求</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">req_url = 'https://www.lagou.com/jobs/positionAjax.json?needAddtionalResult=false'</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#构建post请求的表单数据</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">form_data = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'first': 'false',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'pn': '1',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'kd': keyword,</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#将表单数据转为url编码格式的二进制数据</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">data_trandfrom = urlencode(form_data).encode('utf-8')</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#构建一个请求头</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">req_header = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'User-Agent':'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'Referer': 'https://www.lagou.com/jobs/list_java?labelWords=&amp;fromSearch=true&amp;suginput=',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#构建一个request对象</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">req = request.Request(url=req_url,data=data_trandfrom,headers=req_header)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">try:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#发起请求</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = request.urlopen(req)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(response.status)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#做一个判断，请求成功，在这里做数据的处理</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if response.status == 200:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">html = response.read().decode('utf-8')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print('请求成功',html)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.HTTPError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print('请求出错',err.code,err.reason,err.headers)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.URLError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print('请求出错', err.reason)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if __name__ == '__main__':</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">lagouSpider()</span></div></div></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">处理HTTPS请求 SSL证书验证</span></h2><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">出现</span></div><blockquote style="box-sizing: content-box; margin: 15px 0px; border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px;"><div style="box-sizing: content-box; margin: 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">ssl.CertificateError:......</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">这种错误时，我们就需要单独处理SSL设置，忽略未认证的CA证书，让程序忽略SSL证书验证错误，即可正常访问。</span></div></div></blockquote><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from urllib import request</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 1. 导入Python SSL处理模块</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">import ssl</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 2. 表示忽略未经核实的SSL证书认证</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">context = ssl._create_unverified_context()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 目标url</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url = "https://www.12306.cn/mormhweb/"</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#设置请求头</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">headers = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36"</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#构建request对象</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">request = urllib.request.Request(url, headers = headers)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 3. 在urlopen()方法里 指明添加 context 参数</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = urllib.request.urlopen(request, context = context)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">html = response.read().decode()</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print (html)</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">关于CA（了解）</span></h4><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">CA(Certificate Authority)是数字证书认证中心的简称，是指发放、管理、废除数字证书的受信任的第三方机构，如北京数字认证股份有限公司、上海市数字证书认证中心有限公司等...</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">CA的作用是检查证书持有者身份的合法性，并签发证书，以防证书被伪造或篡改，以及对证书和密钥进行管理。</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">现实生活中可以用身份证来证明身份， 那么在网络世界里，数字证书就是身份证。和现实生活不同的是，并不是每个上网的用户都有数字证书的，往往只有当一个人需要证明自己的身份的时候才需要用到数字证书。</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">普通用户一般是不需要，因为网站并不关心是谁访问了网站，现在的网站只关心流量。但是反过来，网站就需要证明自己的身份了。</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">比如说现在钓鱼网站很多的，比如你想访问的是www.baidu.com，但其实你访问的是www.daibu.com”，所以在提交自己的隐私信息之前需要验证一下网站的身份，要求网站出示数字证书。</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">一般正常的网站都会主动出示自己的数字证书，来确保客户端和网站服务器之间的通信数据是加密安全的。</span></div></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">第一天作业：</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">写一个小爬虫程序，来爬取百度贴吧任意吧的前10页网页，并将页面源码存储到本地。</span></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">urllib 高级用法（设置代理）</span></h2><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">我们在做爬虫的过程中经常会遇到这样的情况，最初爬虫正常运行，正常抓取数据，一切看起来都是那么美好，然而一杯茶的功夫可能就会出现错误，比如403 Forbidden，这时候打开网页一看，可能会看到“您的IP访问频率太高”这样的提示。出现这种现象的原因是网站采取了一些反爬虫措施。比如，服务器会检测某个IP在单位时间内的请求次数，如果超过了这个阈值，就会直接拒绝服务，返回一些错误信息，这种情况可以称为封IP。</span></div><h5 style="box-sizing: content-box; font-size: 16px;"><span style="font-size: 16px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">什么是代理？？？？</span></h5><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">基本原理：</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">代理实际上指的就是代理服务器，英文叫作proxy server，它的功能是代理网络用户去取得网络信息。形象地说，它是网络信息的中转站。在我们正常请求一个网站时，其实是发送了请求给Web服务器，Web服务器把响应传回给我们。如果设置了代理服务器，实际上就是在本机和服务器之间搭建了一个桥，此时本机不是直接向Web服务器发起请求，而是向代理服务器发出请求，请求会发送给代理服务器，然后由代理服务器再发送给Web服务器，接着由代理服务器再把Web服务器返回的响应转发给本机。这样我们同样可以正常访问网页，但这个过程中Web服务器识别出的真实IP就不再是我们本机的IP了，就成功实现了IP伪装，这就是代理的基本原理</span></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;"><img src="5.0%20urllib%E6%A8%A1%E5%9D%97.resources/ED1A8552-F18C-478B-8D7F-6BC5C1CB32DD.png" height="600" width="1300"/></span></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">部分知识（了解）</span></h4><h5 style="box-sizing: content-box; font-size: 16px;"><span style="font-size: 16px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%; box-sizing: content-box;">代理的作用：</span></h5><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">1.</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">突破自身IP访问限制</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">，访问一些平时不能访问的站点。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">2.</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">提高访问速度</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：通常代理服务器都设置一个较大的硬盘缓冲区，当有外界的信息通过时，同时也将其保存到缓冲区中，当其他用户再访问相同的信息时，则直接由缓冲区中取出信息，传给用户，以提高访问速度。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">3.</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">隐藏真实IP</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：上网者也可以通过这种方法隐藏自己的IP，免受攻击。对于爬虫来说，我们用代理就是为了隐藏自身IP，防止自身的IP被封锁。</span></div></li></ul><h5 style="box-sizing: content-box; font-size: 16px;"><span style="font-size: 16px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%; box-sizing: content-box;">常见的代理分类：</span></h5><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">1.根据协议划分：</span></div></li></ul><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">FTP代理服务器</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：主要用于访问FTP服务器，一般有上传、下载的功能以及缓存的功能，端口号一般为21，2121等。</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">HTTP/HTTPS代理服务器</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：主要用于访问网页，一般有内容过滤和缓存的功能，端口号一般为80、8080、3128等</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">SOCKS代理</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：只是单纯的用于传输数据包，不关心具体的协议用法，速度快、有缓存功能，端口号一般为1080</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">2.根据匿名内容划分：</span></div></li></ul><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">高度匿名代理</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：会将数据包原封不动的转发，在服务器看来就好像真的是一个普通的用户短在访问，而记录的IP就是代理服务器的IP</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">普通匿名代理</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：会在数据包上做一些改动，服务端上有可能发现这个是代理服务器，也有一定的几率追查到客户端的真实IP.</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">透明代理</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：不但改动了数据包，还会告诉服务器客户端的真实IP，这种代理除了用缓存技术提高浏览器速度。能用内容过滤提高安全性之外，并没有其他作用。</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">免费短期代理网站举例：</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">西刺免费代理IP：http://www.xicidaili.com/</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">快代理免费代理:https://www.kuaidaili.com/free/inha/</span></div></li></ul><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">这些免费开放代理一般会有很多人都在使用，而且代理有寿命短，速度慢，匿名度不高，HTTP/HTTPS支持不稳定等缺点（免费没好货）。</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">所以，专业爬虫工程师或爬虫公司会使用高品质的代理，这些代理通常需要找专门的代理供应商购买。</span></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">自定义代理Opener</span></h4><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">ProxyHandler处理器用来设置代理</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from urllib import request,error</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#构建支持代理的handler</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">proxy = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'http':'61.138.33.20:808',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'https':'120.69.82.110:44693',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 构建一个私密代理Handler，需要加上私密代理账户的用户名和密码</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># proxy = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># "http" :"username:password@61.135.217.7:80"</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">proxy_handler = request.ProxyHandler(</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">proxies=proxy</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#根据proxy_handler实例化一个opener对象</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">opener = request.build_opener(proxy_handler)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 使用https://httpbin.org/get接口验证使用了代理</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># url = 'https://httpbin.org/get'</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">try:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = opener.open(url,timeout=5)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 将自定义的opener设置为全局的opener，之后使用urlopen() 发送请求，都将使用自定义opener对象。</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># request.install_opener(opener)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># response = urlopen(request)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(response.status)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.HTTPError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(err.reason)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.URLError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(err.reason)</span></div><div><br/></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">注意补充知识</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">另外各大代理IP的平台对比网址可做如下参考：https://cuiqingcai.com/5094.html</span></div></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">urllib 高级用法（设置cookie）</span></h2><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Cookie</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">是指某些网站服务器为了辨别用户身份和进行Session跟踪，而储存在用户浏览器上的文本文件，Cookie可以保持登录信息到用户下次与服务器的会话。</span></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Cookie原理</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">HTTP是无状态的面向连接的协议, 为了保持连接状态, 引入了Cookie机制 Cookie是http消息头中的一种属性，包括：</span></div></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">Cookie名字（Name）</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">Cookie的值（Value）</span></div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">......</span></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-style: italic; box-sizing: content-box;">那么，我们怎样利用Cookies保持状态呢？</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">*</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">当客户端第一次请求服务器时，服务器会返回一个响应头中带有Set-Cookie字段的响应给客户端，用来标记是哪一个用户，客户端浏览器会把Cookies保存起来。当浏览器下一次再请求该网站时，浏览器会把此Cookies放到请求头一起提交给服务器，Cookies携带了会话ID信息，服务器检查该Cookies即可找到对应的会话是什么，然后再判断会话来以此来辨认用户状态。</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">在成功登录某个网站时，服务器会告诉客户端设置哪些Cookies信息，在后续访问页面时客户端会把Cookies发送给服务器，服务器再找到对应的会话加以判断。如果会话中的某些设置登录状态的变量是有效的，那就证明用户处于登录状态，此时返回登录之后才可以查看的网页内容，浏览器再进行解析便可以看到了。</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">反之，如果传给服务器的Cookies是无效的，或者会话已经过期了，我们将不能继续访问页面，此时可能会收到错误的响应或者跳转到登录页面重新登录。</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">所以，Cookies和会话需要配合，一个处于客户端，一个处于服务端，二者共同协作，就实现了登录会话控制。</span></div></li></ul><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Cookie由变量名和值组成，根据规定，Cookie格式如下：</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Set－Cookie: NAME=VALUE；Expires=DATE；Path=PATH；Domain=DOMAIN_NAME；SECURE</span></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Cookie应用</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Cookies在爬虫方面最典型的应用是判定注册用户是否已经登录网站，用户可能会得到提示，是否在下一次进入此网站时保留用户信息以便简化登录手续</span></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">方案一：直接使用登录用户浏览器缓存的cookies</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from urllib import request,parse,error</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">import ssl</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url = 'https://www.kuaidaili.com/usercenter/'</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">headers = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'User-Agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.157 Safari/537.36',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'Cookie':'channelid=0; sid=1558420660630216; _ga=GA1.2.108790330.1558420662; _gid=GA1.2.457464342.1558578669; Hm_lvt_7ed65b1cc4b810e9fd37959c9bb51b31=1558420662,1558578669; sessionid=3e9c383e3958736a3646013f893e9eec; Hm_lpvt_7ed65b1cc4b810e9fd37959c9bb51b31=1558578704'</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">ssl_context = ssl._create_unverified_context()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">req = request.Request(url=url,headers=headers,method='GET')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">try:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = request.urlopen(req,context=ssl_context)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if response.status == 200:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">html = response.read().decode('utf-8')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if '2295808193' in html:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print('登录成功')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">with open('person.html','w') as file:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">file.write(html)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.HTTPError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(err.reason)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.URLError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(err.reason)</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">方案二：使用代码方式，模拟登录获取用户登录后的cookies信息</span></h4><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">通过上面的代码可以看到其实是实现了获取Cookie，通过Cookie来请求网页数据的</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">但是这样很明显不够灵活，也不够复杂，我们有没有方便一点的做法呢？</span></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">cookiejar库 和 HTTPCookieProcessor处理器</span></h4><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">在Python处理Cookie，一般是通过cookiejar模块和 urllib模块的HTTPCookieProcessor处理器类一起使用。</span></div><blockquote style="box-sizing: content-box; margin: 15px 0px; border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">cookiejar模块</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：主要作用是提供用于存储cookie的对象</span></div></blockquote><blockquote style="box-sizing: content-box; margin: 15px 0px; border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">HTTPCookieProcessor处理器</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：主要作用是处理这些cookie对象，并构建handler对象。</span></div></blockquote><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">cookiejar 库</span></h4><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">该模块主要的对象有CookieJar、FileCookieJar、MozillaCookieJar、LWPCookieJar。其实大多数情况下，我们只用</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">CookieJar()</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">，如果需要和本地文件交互，就用</span> <span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">MozillaCookjar()</span></div><blockquote style="box-sizing: content-box; margin: 15px 0px; border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">CookieJar</span><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">：管理HTTP cookie值、存储HTTP请求生成的cookie、向传出的HTTP请求添加cookie的对象。整个cookie都存储在内存中，对CookieJar实例进行垃圾回收后cookie也将丢失。</span></div></blockquote><blockquote style="box-sizing: content-box; margin: 15px 0px; border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">MozillaCookieJar</span> <span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">(filename,delayload=None,policy=None)：从FileCookieJar派生而来，创建与Mozilla浏览器 cookies.txt兼容的FileCookieJar实例。</span></div></blockquote><h5 style="box-sizing: content-box; font-size: 16px;"><span style="font-size: 16px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">使用案例如下:</span></h5><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#快代理登录</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from urllib import request,parse,error</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from http import cookiejar</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">import ssl,urllib</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">def kdl_login(url,data):</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 构建一个CookieJar对象实例来保存cookie</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">cookie_jar = cookiejar.CookieJar()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 使用HTTPCookieProcessor()来创建cookie处理器对象，参数为CookieJar()对象</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># handler = request.</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">handler = urllib.request.HTTPCookieProcessor(cookie_jar)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">ssl_context = ssl._create_unverified_context()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">https_hancler = urllib.request.HTTPSHandler(context=ssl_context)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 通过 build_opener() 来构建opener</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">opener = urllib.request.build_opener(handler,https_hancler)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">headers = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'User-Agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.157 Safari/537.36',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = opener.open(url)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(response.headers)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print({cookie.name:cookie.value for cookie in cookie_jar})</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#####上半部分代码是为了获取登录需要的cookie信息##################</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#####下半部分代码是为了获取登录需要的cookie信息##################</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">data = parse.urlencode(data).encode('utf-8')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print('======',data)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">req = request.Request(url=url,data=data,headers=headers,method='POST')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">try:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response = opener.open(req)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if response.status == 200:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">html = response.read().decode('utf-8')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if '2295808193' in html:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print('登录成功')</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print({cookie.name: cookie.value for cookie in cookie_jar})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">with open('person.html','w') as file:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">file.write(html)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.HTTPError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(err.reason)</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">except error.URLError as err:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(err.reason)</span></div><div><br/></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if __name__ == '__main__':</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">data = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'next':'',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'kf5_return_to':'',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'username': '18518753265',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'passwd': 'ljh123456',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">url = 'https://www.kuaidaili.com/login/'</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">kdl_login(url,data)</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">模拟登录要注意几点：</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">登录一般都会先有一个HTTP GET，用于拉取一些信息及获得Cookie，然后再HTTP POST登录。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">HTTP POST登录的链接有可能是动态的，从GET返回的信息中获取。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">password 有些是明文发送，有些是加密后发送。有些网站甚至采用动态加密的，同时包括了很多其他数据的加密信息，只能通过查看JS源码获得加密算法，再去破解加密，非常困难。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">大多数网站的登录整体流程是类似的，可能有些细节不一样，所以不能保证其他网站登录成功.</span></div></li></ul><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><h3 style="box-sizing: content-box; font-size: 27px;"><span style="font-size: 27px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">自学了解内容</span></h3><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">会话百度百科：</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">https://baike.baidu.com/item/session/479100</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Cookies百度百科：</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">https://baike.baidu.com/item/cookie/1119</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">HTTP Cookie维基百科：</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">https://en.wikipedia.org/wiki/HTTP_cookie</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">会话和几种状态保持方案理解：</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">http://www.mamicode.com/info-detail-46545.html</span></div></li></ul></div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%23%20**urllib%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8**%0A%E6%89%80%E8%B0%93%E7%BD%91%E9%A1%B5%E6%8A%93%E5%8F%96%EF%BC%8C%E5%B0%B1%E6%98%AF%E6%8A%8AURL%E5%9C%B0%E5%9D%80%E4%B8%AD%E6%8C%87%E5%AE%9A%E7%9A%84%E7%BD%91%E7%BB%9C%E8%B5%84%E6%BA%90%E4%BB%8E%E7%BD%91%E7%BB%9C%E6%B5%81%E4%B8%AD%E8%AF%BB%E5%8F%96%E5%87%BA%E6%9D%A5%EF%BC%8C%E4%BF%9D%E5%AD%98%E5%88%B0%E6%9C%AC%E5%9C%B0%E3%80%82%20%E5%9C%A8Python%E4%B8%AD%E6%9C%89%E5%BE%88%E5%A4%9A%E5%BA%93%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%9D%A5%E6%8A%93%E5%8F%96%E7%BD%91%E9%A1%B5%EF%BC%8C%E6%88%91%E4%BB%AC%E5%85%88%E5%AD%A6%E4%B9%A0urllib%E3%80%82%0A%0A%E6%88%91%E4%BB%AC%E4%BC%9A%E4%BB%8E%E4%B8%8B%E9%9D%A2%E4%B8%89%E4%B8%AA%E6%96%B9%E9%9D%A2%E8%AE%B2%E8%A7%A3urllib%3A%0A%0A-%20**request**%3A%20%E5%AE%83%E6%98%AF%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%9A%84HTTP%E8%AF%B7%E6%B1%82%E6%A8%A1%E5%9D%97%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%9D%A5%E6%A8%A1%E6%8B%9F%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%B0%B1%E5%83%8F%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%BE%93%E5%85%A5%E7%BD%91%E5%9D%80%EF%BC%8C%E7%84%B6%E5%90%8E%E6%95%B2%E5%87%BB%E5%9B%9E%E8%BD%A6%E9%94%AE%E4%B8%80%E6%A0%B7%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%9A%84%E6%97%B6%E5%80%99%E5%8F%AA%E9%9C%80%E8%A6%81%E7%BB%99%E5%BA%93%E6%96%B9%E6%B3%95%E4%BC%A0%E5%85%A5%E7%9B%B8%E5%85%B3%E7%9A%84URL%E5%92%8C%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8F%82%E6%95%B0%E5%8D%B3%E5%8F%AF%EF%BC%8E%0A%0A-%20**error**%3A%20%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%A8%A1%E5%9D%97%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AA%E6%A8%A1%E5%9D%97%E6%9D%A5%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8%EF%BC%8C%E7%84%B6%E5%90%8E%E8%BF%9B%E8%A1%8C%E9%87%8D%E8%AF%95%E6%88%96%E8%80%85%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C%EF%BC%8C%E4%BF%9D%E8%AF%81%E7%A8%8B%E5%BA%8F%E4%B8%8D%E4%BC%9A%E6%84%8F%E5%A4%96%E7%BB%88%E6%AD%A2%EF%BC%8E%0A%0A-%20**parse**%3A%20%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E5%B7%A5%E5%85%B7%E6%A8%A1%E5%9D%97%EF%BC%8C%E6%8F%90%E4%BE%9B%E4%BA%86%E8%AE%B8%E5%A4%9Aurl%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95%EF%BC%8C%E6%AF%94%E5%A6%82%E6%8B%86%E5%88%86%2C%E8%A7%A3%E6%9E%90%2C%E5%90%88%E5%B9%B6%E7%AD%89%E7%AD%89.%0A%0A**%E5%9C%A8%20python2%20%E4%B8%AD%EF%BC%8Curllib%20%E8%A2%AB%E5%88%86%E4%B8%BAurllib%2Curllib2%E7%AD%89%EF%BC%8C%E5%9C%A8python3%E4%B8%AD%E6%88%91%E4%BB%AC%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8urllib**%0A%0A%23%23%20**urlopen%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8**%0A%0A%60%60%60%0A%23%20%E5%AF%BC%E5%85%A5urllib.request%20%E5%BA%93%0Aimport%20urllib.request%0A%0A%23%20%E5%90%91%E6%8C%87%E5%AE%9A%E7%9A%84url%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94%E7%9A%84%E7%B1%BB%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1%0Aresponse%20%3D%20urllib.request.urlopen(%22http%3A%2F%2Fwww.baidu.com%22)%0A%0Aprint(type(response))%0A%0A%23%20%E7%B1%BB%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1%E6%94%AF%E6%8C%81%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95%EF%BC%8C%0A%E5%A6%82read()%E6%96%B9%E6%B3%95%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%85%A8%E9%83%A8%E5%86%85%E5%AE%B9%EF%BC%8C%E8%BF%94%E5%9B%9E%0A%E5%AD%97%E7%AC%A6%E4%B8%B2(%E6%B3%A8%E6%84%8F%E6%88%91%E4%BB%AC%E5%9C%A8%E4%BD%BF%E7%94%A8read()%E8%8E%B7%E5%8F%96%E5%93%8D%E5%BA%94%0A%E7%BB%93%E6%9E%9C%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%E5%90%8E%EF%BC%8C%E4%B8%8B%E6%AC%A1%E5%9C%A8%E6%89%A7%E8%A1%8C%E5%B0%B1%E6%B2%A1%E6%9C%89%E6%95%B0%E6%8D%AE%E4%BA%86)%0Ahtml%20%3D%20response.read()%0A%23%20%E6%89%93%E5%8D%B0%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C%EF%BC%88betys%E7%B1%BB%E5%9E%8B%EF%BC%89%0Aprint%20(html)%0A%23%20%E6%89%93%E5%8D%B0%E7%8A%B6%E6%80%81%E7%A0%81%0Aprint%20(response.status)%0A%23%20%E8%8E%B7%E5%8F%96%E5%93%8D%E5%BA%94%E5%A4%B4%0Aprint%20(response.getheaders())%0A%23%20%E8%8E%B7%E5%8F%96%E5%93%8D%E5%BA%94%E5%A4%B4%E4%BF%A1%E6%81%AF%0Aprint%20(response.getheader('Server'))%0A%23%20%E8%8E%B7%E5%8F%96%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C%E5%8E%9F%E5%9B%A0%0Aprint%20(response.reason)%0A%60%60%60%0A%0A-%20**url**%3A%E8%AE%BE%E7%BD%AE%E7%9B%AE%E6%A0%87url%0A-%20**data**%3A%E5%A6%82%E6%9E%9C%E8%AE%BE%E7%BD%AE%E8%AF%A5%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E8%AF%B7%E6%B1%82%E9%BB%98%E8%AE%A4%E4%B8%BApost%E8%AF%B7%E6%B1%82%0A-%20**timeout**%EF%BC%9A%E7%94%A8%E4%BA%8E%E8%AE%BE%E7%BD%AE%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4%EF%BC%8C%E5%8D%95%E4%BD%8D%E4%B8%BA%E7%A7%92%0A-%20**context**%EF%BC%9A%E5%BF%85%E9%A1%BB%E6%98%AF%E4%B8%80%E4%B8%AAssl.SSLContext%E7%B1%BB%E5%9E%8B%2C%E7%94%A8%E6%9D%A5%E6%8C%87%E5%AE%9ASSL%E8%AE%BE%E7%BD%AE%2C%E5%BF%BD%E7%95%A5%E6%9C%AA%E8%AE%A4%E8%AF%81%E7%9A%84CA%E8%AF%81%E4%B9%A6%20%20%20%20%20%20%20%0A%0A------------------------------------------------------------------------%0A%0A%23%23%20**Request**%0A%0A**%E4%BD%BF%E7%94%A8urlopen%E7%9B%B4%E6%8E%A5%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%EF%BC%8C%E8%8E%B7%E5%8F%96%E4%B8%80%E4%BA%9B%E5%8F%8D%E7%88%AC%E6%89%8B%E6%AE%B5%E4%BD%8E%E7%9A%84%E7%BD%91%E7%AB%99%EF%BC%8C%E6%9C%89%E4%BA%9B%E7%BD%91%E7%AB%99%E4%BC%9A%E6%A0%B9%E6%8D%AE%E8%AF%B7%E6%B1%82%E5%A4%B4%E6%9D%A5%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%BF%E9%97%AE%EF%BC%8C%E5%88%99%E9%9C%80%E8%A6%81%E5%A2%9E%E5%8A%A0HTTP%E6%8A%A5%E5%A4%B4%EF%BC%8C%E5%BF%85%E9%A1%BB%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20Request%20%E5%AE%9E%E4%BE%8B%E6%9D%A5%E4%BD%9C%E4%B8%BAurlopen()%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%9B%E8%80%8C%E9%9C%80%E8%A6%81%E8%AE%BF%E9%97%AE%E7%9A%84url%E5%9C%B0%E5%9D%80%E5%88%99%E4%BD%9C%E4%B8%BA%20Request%20%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8F%82%E6%95%B0%E3%80%82**%0A%0A-%20url%20%E5%8F%82%E6%95%B0%E6%98%AF%E8%AF%B7%E6%B1%82%E9%93%BE%E6%8E%A5%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%98%AF%E5%BF%85%E4%BC%A0%E5%8F%82%E6%95%B0%EF%BC%8C%E5%85%B6%E4%BB%96%E7%9A%84%E9%83%BD%E6%98%AF%E5%8F%AF%E9%80%89%E5%8F%82%E6%95%B0%E3%80%82%0A-%20data%EF%BC%88%E9%BB%98%E8%AE%A4%E7%A9%BA%EF%BC%89%20%E5%8F%82%E6%95%B0%E8%B7%9F%20urlopen()%20%E4%B8%AD%E7%9A%84%20data%20%E5%8F%82%E6%95%B0%E7%94%A8%E6%B3%95%E7%9B%B8%E5%90%8C%E3%80%82%0A-%20headers%EF%BC%88%E9%BB%98%E8%AE%A4%E7%A9%BA%EF%BC%89%20%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AD%97%E5%85%B8%E3%80%82%E5%AE%83%E9%99%A4%E4%BA%86%E5%9C%A8%20Request%20%E4%B8%AD%E6%B7%BB%E5%8A%A0%EF%BC%8C%E8%BF%98%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%B0%83%E7%94%A8%20Reques%20t%E5%AE%9E%E4%BE%8B%E7%9A%84%20add_header()%20%E6%96%B9%E6%B3%95%E6%9D%A5%E6%B7%BB%E5%8A%A0%E8%AF%B7%E6%B1%82%E5%A4%B4%E3%80%82%0A-%20unverifiable%20%E5%8F%82%E6%95%B0%E8%A1%A8%E7%A4%BA%E8%BF%99%E4%B8%AA%E8%AF%B7%E6%B1%82%E6%98%AF%E5%90%A6%E6%98%AF%E6%97%A0%E6%B3%95%E9%AA%8C%E8%AF%81%E7%9A%84%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%80%BC%E6%98%AFFalse%E3%80%82%E6%84%8F%E6%80%9D%E5%B0%B1%E6%98%AF%E8%AF%B4%E7%94%A8%E6%88%B7%E6%B2%A1%E6%9C%89%E8%B6%B3%E5%A4%9F%E6%9D%83%E9%99%90%E6%9D%A5%E9%80%89%E6%8B%A9%E6%8E%A5%E6%94%B6%E8%BF%99%E4%B8%AA%E8%AF%B7%E6%B1%82%E7%9A%84%E7%BB%93%E6%9E%9C%E3%80%82%E4%BE%8B%E5%A6%82%E6%88%91%E4%BB%AC%E8%AF%B7%E6%B1%82%E4%B8%80%E4%B8%AAHTML%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87%EF%BC%8C%E4%BD%86%E6%98%AF%E6%88%91%E4%BB%AC%E6%B2%A1%E6%9C%89%E8%87%AA%E5%8A%A8%E6%8A%93%E5%8F%96%E5%9B%BE%E5%83%8F%E7%9A%84%E6%9D%83%E9%99%90%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%B1%E8%A6%81%E5%B0%86%20unverifiable%20%E7%9A%84%E5%80%BC%E8%AE%BE%E7%BD%AE%E6%88%90%20True%E3%80%82(%E8%BF%99%E4%B8%AA%E5%8F%82%E6%95%B0%E6%88%91%E4%BB%AC%E4%B8%8D%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AE)%0A-%20method%20%E5%8F%82%E6%95%B0%E6%8C%87%E7%9A%84%E6%98%AF%E5%8F%91%E8%B5%B7%E7%9A%84%20HTTP%20%E8%AF%B7%E6%B1%82%E7%9A%84%E6%96%B9%E5%BC%8F%0A%0A%60%60%60%0A%23%20urllib_request.py%0A%0Aimport%20urllib.request%0A%0Aheaders%20%3D%20%7B%22User-Agent%22%20%3A%20%22Mozilla%2F5.0%20(X11%3B%20Linux%20x86_64)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F67.0.3396.99%20Safari%2F537.36%22%2C%7D%0A%0A%23%20url%E4%BD%9C%E4%B8%BARequest()%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E6%9E%84%E9%80%A0%E5%B9%B6%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AARequest%E5%AF%B9%E8%B1%A1%0Arequest%20%3D%20urllib.request.Request(url%3D%22http%3A%2F%2Fwww.baidu.com%22%EF%BC%8Cheaders%3Dheaders)%0A%0A%23%20Request%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BAurlopen()%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E5%8F%91%E9%80%81%E7%BB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8E%A5%E6%94%B6%E5%93%8D%E5%BA%94%0Aresponse%20%3D%20urllib.request.urlopen(request)%0A%0A%23%E5%B0%86%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9A%84%E9%A1%B5%E9%9D%A2%E6%BA%90%E7%A0%81%EF%BC%8C%E8%BD%AC%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%0Ahtml%20%3D%20response.read().decode('utf-8')%0A%0Aprint%20(html)%0A%60%60%60%0A%0A----------------------------------------%0A%0A%23%23%20urllib%20%E7%9A%84%E5%BC%82%E5%B8%B8%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%0A%0A**urllib%20%E7%9A%84%E5%BC%82%E5%B8%B8%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86**%0A%0A%E6%88%91%E4%BB%AC%E5%9C%A8%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E5%A6%82%E6%9E%9C%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E4%B8%8D%E5%A5%BD%EF%BC%8C%E6%88%96%E8%80%85%E5%87%BA%E7%8E%B0%E4%BA%86%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98%EF%BC%8C%E4%BC%9A%E5%87%BA%E7%8E%B0%E8%AF%B7%E6%B1%82%E5%BC%82%E5%B8%B8%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%A4%84%E7%90%86%E8%BF%99%E4%BA%9B%E5%BC%82%E5%B8%B8%EF%BC%8C%E7%A8%8B%E5%BA%8F%E5%BE%88%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%B4%A9%E6%BA%83%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%EF%BC%8E%0A%0A**URLError**%3A%E6%9D%A5%E8%87%AAurllib%E5%BA%93%E7%9A%84error%E6%A8%A1%E5%9D%97%EF%BC%8C%E7%BB%A7%E6%89%BF%E8%87%AAOSError%2C%E7%94%B1request%E6%A8%A1%E5%9D%97%E4%BA%A7%E7%94%9F%E7%9A%84%E5%BC%82%E5%B8%B8%E9%83%BD%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E6%8D%95%E6%8D%89%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%9D%A5%E5%A4%84%E7%90%86%EF%BC%8E%0A%0A%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0%E4%B8%BB%E8%A6%81%E6%9C%89%EF%BC%9A%0A%0A-%20%E6%B2%A1%E6%9C%89%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%0A-%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9E%E6%8E%A5%E5%A4%B1%E8%B4%A5%0A-%20%E6%89%BE%E4%B8%8D%E5%88%B0%E6%8C%87%E5%AE%9A%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%0A%E5%AE%83%E5%85%B7%E6%9C%89%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7reason%2C%E8%BF%94%E5%9B%9E%E9%94%99%E8%AF%AF%E7%9A%84%E5%8E%9F%E5%9B%A0%0A%0A**HTTPError**%0A%0A-%20HTTPError%E6%98%AFURLError%E7%9A%84%E5%AD%90%E7%B1%BB%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%91%E5%87%BA%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E6%97%B6%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%BD%E4%BC%9A%E5%AF%B9%E5%BA%94%E4%B8%80%E4%B8%AAresponse%E5%BA%94%E7%AD%94%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%AE%83%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%22%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81%22%E3%80%82%0A-%20%E4%B8%93%E9%97%A8%E7%94%A8%E6%9D%A5%E5%A4%84%E7%90%86%EF%BC%A8TTP%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF%EF%BC%8C%E6%AF%94%E5%A6%82%E6%9C%AA%E8%AE%A4%E8%AF%81%EF%BC%8C%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%AD%89%0A%0A-%20%E6%9C%89%E4%B8%89%E4%B8%AA%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20%20-%20code%3A%E8%BF%94%E5%9B%9EHTTP%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%0A%20%20-%20reason%3A%E8%BF%94%E5%9B%9E%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0%0A%20%20-%20headers%3A%E8%BF%94%E5%9B%9E%E8%AF%B7%E6%B1%82%E5%A4%B4%0A%0A%0A%E5%85%B7%E4%BD%93%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%9B%A0%E4%B8%BAHTTPError%E7%9A%84%E7%88%B6%E7%B1%BB%E6%98%AFURLError%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%A4%84%E7%90%86%E9%A1%BA%E5%BA%8F%E5%BA%94%E8%AF%A5%E6%98%AF%E5%85%88%E6%8D%95%E8%8E%B7%E5%AD%90%E7%B1%BB%E7%9A%84%E9%94%99%E8%AF%AF%EF%BC%8C%E5%86%8D%E6%8D%95%E8%8E%B7%E7%88%B6%E7%B1%BB%E7%9A%84%E9%94%99%E8%AF%AF%0A%0A%60%60%60%0Afrom%20urllib%20import%20request%2Cerror%0A%0Adef%20check_error(req_url%EF%BC%8Cheaders)%3A%0A%20%20%20%20%22%22%22%0A%20%20%20%20%E5%9B%A0%E4%B8%BAHTTPError%E7%9A%84%E7%88%B6%E7%B1%BB%E6%98%AFURLError%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%A4%84%E7%90%86%E9%A1%BA%E5%BA%8F%E5%BA%94%E8%AF%A5%E6%98%AF%0A%20%20%20%20%E5%85%88%E6%8D%95%E8%8E%B7%E5%AD%90%E7%B1%BB%E7%9A%84%E9%94%99%E8%AF%AF%EF%BC%8C%E5%86%8D%E6%8D%95%E8%8E%B7%E7%88%B6%E7%B1%BB%E7%9A%84%E9%94%99%E8%AF%AF%0A%20%20%20%20%22%22%22%0A%20%20%20%20%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20response%20%3D%20request.urlopen(url%3Dreq_url%EF%BC%8Cheaders%3Dheaders)%0A%20%20%20%20%20%20%20%20print(response.status)%0A%20%20%20%20except%20error.HTTPError%20as%20err%3A%0A%20%20%20%20%20%20%20%20print(err.code%2Cerr.reason%2Cerr.headers)%0A%20%20%20%20except%20error.URLError%20as%20err%3A%0A%20%20%20%20%20%20%20%20print('%3D%3D%3D'%2C%20err.reason)%0A%60%60%60%0A%0A%0A---------------------------%0A%0A%23%23%20parse%E6%A8%A1%E5%9D%97%E4%B8%8B%E5%B8%B8%E7%94%A8%E7%9A%84url%E8%A7%A3%E6%9E%90%E3%80%81%E5%90%88%E5%B9%B6%E3%80%81%E7%BC%96%E7%A0%81%E3%80%81%E8%A7%A3%E7%A0%81%E6%96%B9%E6%B3%95%0A%0A%23%23%23%23%20**%E4%BD%BF%E7%94%A8%E6%97%B6%E9%9C%80%E5%AF%BC%E5%85%A5**%0A%0A%3E%20from%20urllib%20import%20parse%0A%0A%23%23%23%23%20urlencode()%E5%B0%86%E5%AD%97%E5%85%B8%E6%9E%84%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%8F%82%E6%95%B0%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%BAurl%E7%BC%96%E7%A0%81%E5%90%8E%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%23%23%23%23%20%EF%BC%88%E5%B8%B8%E7%94%A8%E6%9D%A5%E6%9E%84%E9%80%A0get%E8%AF%B7%E6%B1%82%E5%92%8Cpost%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%89k1%3Dv1%26k2%3Dv2%0A%60%60%60%0Aparmas%20%3D%20%7B%0A%20%20%20%20'wd'%3A'123'%2C%0A%20%20%20%20'page'%3A20%0A%7D%0Aparmas_str%20%3D%20parse.urlencode(parmas)%0A%0Aprint(parmas_str)%0A%0A%22%22%22%0Apage%3D20%26wd%3D123%0A%22%22%22%0A%60%60%60%0A%0A%23%23%23%23%20parse_qs()%E5%B0%86url%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%8F%82%E6%95%B0%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%BA%E5%AD%97%E5%85%B8%E7%B1%BB%E5%9E%8B%0A%60%60%60%0Aparmas_str%20%3D%20'page%3D20%26wd%3D123'%0Aparmas%20%3D%20parse.parse_qs(parmas_str)%0Aprint(parmas)%0A%0A%22%22%22%0A%7B'page'%3A%20%5B'20'%5D%2C%20'wd'%3A%20%5B'123'%5D%7D%0A%22%22%22%0A%60%60%60%0A%0A%23%23%23%23%20quote()%E5%8F%AF%E4%BB%A5%E5%B0%86%E4%B8%AD%E6%96%87%E8%BD%AC%E6%8D%A2%E4%B8%BAURL%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%0A%60%60%60%0Aword%20%3D%20'%E4%B8%AD%E5%9B%BD%E6%A2%A6'%0Aurl%20%3D%20'http%3A%2F%2Fwww.baidu.com%2Fs%3Fwd%3D'%2Bparse.quote(word)%0Aprint(parse.quote(word))%0Aprint(url)%0A%0A%22%22%22%0A%25E4%25B8%25AD%25E5%259B%25BD%25E6%25A2%25A6%0Ahttp%3A%2F%2Fwww.baidu.com%2Fs%3Fwd%3D%25E4%25B8%25AD%25E5%259B%25BD%25E6%25A2%25A6%0A%22%22%22%0A%60%60%60%0A%0A%23%23%23%23%20unquote%3A%E5%8F%AF%E4%BB%A5%E5%B0%86URL%E7%BC%96%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%A7%A3%E7%A0%81%0A%60%60%60%0Aurl%20%3D%20'http%3A%2F%2Fwww.baidu.com%2Fs%3Fwd%3D%25E4%25B8%25AD%25E5%259B%25BD%25E6%25A2%25A6'%0Aprint(parse.unquote(url))%0A%22%22%22%0Ahttp%3A%2F%2Fwww.baidu.com%2Fs%3Fwd%3D%E4%B8%AD%E5%9B%BD%E6%A2%A6%0A%22%22%22%0A%60%60%60%0A%0A%23%23%23%23%20urljoin()%E4%BC%A0%E9%80%92%E4%B8%80%E4%B8%AA%E5%9F%BA%E7%A1%80%E9%93%BE%E6%8E%A5%2C%E6%A0%B9%E6%8D%AE%E5%9F%BA%E7%A1%80%E9%93%BE%E6%8E%A5%E5%8F%AF%E4%BB%A5%E5%B0%86%E6%9F%90%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%AE%8C%E6%95%B4%E7%9A%84%E9%93%BE%E6%8E%A5%E6%8B%BC%E6%8E%A5%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%AE%8C%E6%95%B4%E9%93%BE%E6%8E%A5%0A%60%60%60%0Abase_url%20%3D%20'https%3A%2F%2Fbook.qidian.com%2Finfo%2F1004608738%3Fwd%3D123%26page%3D20%23Catalog'%0Asub_url%20%3D%20'%2Finfo%2F100861102'%0A%0Afull_url%20%3D%20parse.urljoin(base_url%2Csub_url)%0A%0Aprint(full_url)%0A%60%60%60%0A%0A%0A%23%23%23%23%20urlparse()%E5%AE%9E%E7%8E%B0URL%E7%9A%84%E8%AF%86%E5%88%AB%E5%92%8C%E5%88%86%E6%AE%B5%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89%0A%60%60%60%0Aurl%20%3D%20'https%3A%2F%2Fbook.qidian.com%2Finfo%2F1004608738%3Fwd%3D123%26page%3D20%23Catalog'%0A%22%22%22%0Aurl%EF%BC%9A%E5%BE%85%E8%A7%A3%E6%9E%90%E7%9A%84url%0Ascheme%3D''%EF%BC%9A%E5%81%87%E5%A6%82%E8%A7%A3%E6%9E%90%E7%9A%84url%E6%B2%A1%E6%9C%89%E5%8D%8F%E8%AE%AE%2C%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E7%9A%84%E5%8D%8F%E8%AE%AE%2C%E5%A6%82%E6%9E%9Curl%E6%9C%89%E5%8D%8F%E8%AE%AE%EF%BC%8C%E8%AE%BE%E7%BD%AE%E6%AD%A4%E5%8F%82%E6%95%B0%E6%97%A0%E6%95%88%0Aallow_fragments%3DTrue%EF%BC%9A%E6%98%AF%E5%90%A6%E5%BF%BD%E7%95%A5%E9%94%9A%E7%82%B9%2C%E9%BB%98%E8%AE%A4%E4%B8%BATrue%E8%A1%A8%E7%A4%BA%E4%B8%8D%E5%BF%BD%E7%95%A5%2C%E4%B8%BAFalse%E8%A1%A8%E7%A4%BA%E5%BF%BD%E7%95%A5%0A%22%22%22%0Aresult%20%3D%20parse.urlparse(url%3Durl%2Cscheme%3D'http'%2Callow_fragments%3DTrue)%0A%0Aprint(result)%0Aprint(result.scheme)%0A%22%22%22%0A(scheme%3D'https'%2C%20netloc%3D'book.qidian.com'%2C%20path%3D'%2Finfo%2F1004608738'%2C%20params%3D''%2C%20query%3D'wd%3D123%26page%3D20'%2C%20fragment%3D'Catalog')%0Ascheme%3A%E8%A1%A8%E7%A4%BA%E5%8D%8F%E8%AE%AE%0Anetloc%3A%E5%9F%9F%E5%90%8D%0Apath%3A%E8%B7%AF%E5%BE%84%0Aparams%3A%E5%8F%82%E6%95%B0%0Aquery%3A%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%EF%BC%8C%E4%B8%80%E8%88%AC%E9%83%BD%E6%98%AFget%E8%AF%B7%E6%B1%82%E7%9A%84url%0Afragment%3A%E9%94%9A%E7%82%B9%EF%BC%8C%E7%94%A8%E4%BA%8E%E7%9B%B4%E6%8E%A5%E5%AE%9A%E4%BD%8D%E9%A1%B5%0A%E9%9D%A2%E7%9A%84%E4%B8%8B%E6%8B%89%E4%BD%8D%E7%BD%AE%EF%BC%8C%E8%B7%B3%E8%BD%AC%E5%88%B0%E7%BD%91%E9%A1%B5%E7%9A%84%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%0A%22%22%22%0A%60%60%60%0A%0A%23%23%23%23%20urlunparse()%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0URL%E7%9A%84%E6%9E%84%E9%80%A0%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89%0A%60%60%60%0Aurl_parmas%20%3D%20('https'%2C%20'book.qidian.com'%2C%20'%2Finfo%2F1004608738'%2C%20''%2C%20'wd%3D123%26page%3D20'%2C%20'Catalog')%0A%23components%3A%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%EF%BC%8C%E9%95%BF%E5%BA%A6%E5%BF%85%E9%A1%BB%E4%B8%BA6%0Aresult%20%3D%20parse.urlunparse(url_parmas)%0Aprint(result)%0A%0A%22%22%22%0Ahttps%3A%2F%2Fbook.qidian.com%2Finfo%2F1004608738%3Fwd%3D123%26page%3D20%23Catalog%0A%22%22%22%0A%60%60%60%0A%0A%0A-------------------------------------------------------------%0A%23%23%23%23%20GET%E8%AF%B7%E6%B1%82%0A%23%23%23%23%20url%E5%9C%B0%E5%9D%80%E4%B8%AD%E5%8C%85%E5%90%AB%E4%B8%AD%E6%96%87%E5%8F%82%E6%95%B0%E7%9A%84get%E8%AF%B7%E6%B1%82%0A%0A%60%60%60%0A%23%20urllib_get.py%0A%0Aurl%20%3D%20%22http%3A%2F%2Fwww.baidu.com%2Fs%22%0Aword%20%3D%20%7B%22wd%22%3A%22%E5%85%AD%E4%B8%80%E5%84%BF%E7%AB%A5%E8%8A%82%EF%BC%8C%E5%8F%AF%E6%88%91%E8%BF%98%E6%98%AF%E5%8D%95%E8%BA%AB%22%7D%0Aword%20%3D%20urllib.parse.urlencode(word)%20%23%E8%BD%AC%E6%8D%A2%E6%88%90url%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89%0Anewurl%20%3D%20url%20%2B%20%22%3F%22%20%2B%20word%20%0A%0Aheaders%3D%7B%0A%22User-Agent%22%3A%20%22Mozilla%2F5.0%20(Windows%20NT%2010.0%3B%20WOW64)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F51.0.2704.103%20Safari%2F537.36%22%0A%7D%0A%0Arequest%20%3D%20urllib.request.Request(newurl%2C%20headers%3Dheaders)%0A%0Aresponse%20%3D%20urllib.request.urlopen(request)%0A%0Ahtml%20%3D%20response.read()%0A%0Aprint%20(html)%0A%60%60%60%0A%0A%23%23%23%23%20POST%E8%AF%B7%E6%B1%82%0A%0ARequest%E8%AF%B7%E6%B1%82%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%87%8C%E6%9C%89data%E5%8F%82%E6%95%B0%EF%BC%8C%E5%AE%83%E5%B0%B1%E6%98%AF%E7%94%A8%E5%9C%A8POST%E9%87%8C%E7%9A%84%EF%BC%8C%E6%88%91%E4%BB%AC%E8%A6%81%E4%BC%A0%E9%80%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%B0%B1%E6%98%AF%E8%BF%99%E4%B8%AA%E5%8F%82%E6%95%B0data%EF%BC%8Cdata%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AD%97%E5%85%B8%EF%BC%8C%E9%87%8C%E9%9D%A2%E8%A6%81%E5%8C%B9%E9%85%8D%E9%94%AE%E5%80%BC%E5%AF%B9%E3%80%82%0A%0A%23%23%23%23%23%20%E5%AE%9E%E6%88%98%EF%BC%9A%E6%8B%89%E9%92%A9%E7%BD%91post%E8%AF%B7%E6%B1%82%0A%0A%60%60%60%0Afrom%20urllib.parse%20import%20urlencode%0Afrom%20urllib%20import%20request%2Cerror%0A%0Adef%20lagouSpider()%3A%0A%20%20%20%20keyword%20%3D%20'java'%0A%20%20%20%20%23%20%E6%9E%84%E5%BB%BAurl%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82%0A%20%20%20%20req_url%20%3D%20'https%3A%2F%2Fwww.lagou.com%2Fjobs%2FpositionAjax.json%3FneedAddtionalResult%3Dfalse'%0A%0A%20%20%20%20%23%E6%9E%84%E5%BB%BApost%E8%AF%B7%E6%B1%82%E7%9A%84%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%0A%20%20%20%20form_data%20%3D%20%7B%0A%20%20%20%20%20%20%20%20'first'%3A%20'false'%2C%0A%20%20%20%20%20%20%20%20'pn'%3A%20'1'%2C%0A%20%20%20%20%20%20%20%20'kd'%3A%20keyword%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%E5%B0%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E8%BD%AC%E4%B8%BAurl%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E6%8D%AE%0A%20%20%20%20data_trandfrom%20%3D%20urlencode(form_data).encode('utf-8')%0A%0A%20%20%20%20%23%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%A4%B4%0A%20%20%20%20req_header%20%3D%20%7B%0A%20%20%20%20'User-Agent'%3A'Mozilla%2F5.0%20(X11%3B%20Linux%20x86_64)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F67.0.3396.99%20Safari%2F537.36'%2C%0A%20%20%20%20'Referer'%3A%20'https%3A%2F%2Fwww.lagou.com%2Fjobs%2Flist_java%3FlabelWords%3D%26fromSearch%3Dtrue%26suginput%3D'%2C%0A%20%20%20%20%7D%0A%20%20%20%20%23%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AArequest%E5%AF%B9%E8%B1%A1%0A%20%20%20%20req%20%3D%20request.Request(url%3Dreq_url%2Cdata%3Ddata_trandfrom%2Cheaders%3Dreq_header)%0A%20%20%20%20%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%23%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82%0A%20%20%20%20%20%20%20%20response%20%3D%20request.urlopen(req)%0A%20%20%20%20%20%20%20%20print(response.status)%0A%20%20%20%20%20%20%20%20%23%E5%81%9A%E4%B8%80%E4%B8%AA%E5%88%A4%E6%96%AD%EF%BC%8C%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F%EF%BC%8C%E5%9C%A8%E8%BF%99%E9%87%8C%E5%81%9A%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%84%E7%90%86%0A%20%20%20%20%20%20%20%20if%20response.status%20%3D%3D%20200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%3D%20response.read().decode('utf-8')%0A%20%20%20%20%20%20%20%20%20%20%20%20print('%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F'%2Chtml)%0A%20%20%20%20except%20error.HTTPError%20as%20err%3A%0A%20%20%20%20%20%20%20%20print('%E8%AF%B7%E6%B1%82%E5%87%BA%E9%94%99'%2Cerr.code%2Cerr.reason%2Cerr.headers)%0A%20%20%20%20except%20error.URLError%20as%20err%3A%0A%20%20%20%20%20%20%20%20print('%E8%AF%B7%E6%B1%82%E5%87%BA%E9%94%99'%2C%20err.reason)%0A%20%20%20%20%0Aif%20__name__%20%3D%3D%20'__main__'%3A%0A%0A%20%20%20%20lagouSpider()%0A%60%60%60%0A%0A----------------------------------------------------------------%0A%0A%23%23%20%E5%A4%84%E7%90%86HTTPS%E8%AF%B7%E6%B1%82%20SSL%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81%0A%0A%E5%87%BA%E7%8E%B0%20%0A%3E%20ssl.CertificateError%3A......%0A%E8%BF%99%E7%A7%8D%E9%94%99%E8%AF%AF%E6%97%B6%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%B1%E9%9C%80%E8%A6%81%E5%8D%95%E7%8B%AC%E5%A4%84%E7%90%86SSL%E8%AE%BE%E7%BD%AE%EF%BC%8C%E5%BF%BD%E7%95%A5%E6%9C%AA%E8%AE%A4%E8%AF%81%E7%9A%84CA%E8%AF%81%E4%B9%A6%EF%BC%8C%E8%AE%A9%E7%A8%8B%E5%BA%8F%E5%BF%BD%E7%95%A5SSL%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81%E9%94%99%E8%AF%AF%EF%BC%8C%E5%8D%B3%E5%8F%AF%E6%AD%A3%E5%B8%B8%E8%AE%BF%E9%97%AE%E3%80%82%0A%0A%60%60%60%0Afrom%20urllib%20import%20request%0A%23%201.%20%E5%AF%BC%E5%85%A5Python%20SSL%E5%A4%84%E7%90%86%E6%A8%A1%E5%9D%97%0Aimport%20ssl%0A%0A%23%202.%20%E8%A1%A8%E7%A4%BA%E5%BF%BD%E7%95%A5%E6%9C%AA%E7%BB%8F%E6%A0%B8%E5%AE%9E%E7%9A%84SSL%E8%AF%81%E4%B9%A6%E8%AE%A4%E8%AF%81%0Acontext%20%3D%20ssl._create_unverified_context()%0A%0A%23%20%E7%9B%AE%E6%A0%87url%0Aurl%20%3D%20%22https%3A%2F%2Fwww.12306.cn%2Fmormhweb%2F%22%0A%23%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E5%A4%B4%0Aheaders%20%3D%20%7B%0A%20%20%20%20%22User-Agent%22%3A%20%22Mozilla%2F5.0%20(Windows%20NT%2010.0%3B%20Win64%3B%20x64)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F54.0.2840.99%20Safari%2F537.36%22%0A%7D%0A%23%E6%9E%84%E5%BB%BArequest%E5%AF%B9%E8%B1%A1%0Arequest%20%3D%20urllib.request.Request(url%2C%20headers%20%3D%20headers)%0A%0A%23%203.%20%E5%9C%A8urlopen()%E6%96%B9%E6%B3%95%E9%87%8C%20%E6%8C%87%E6%98%8E%E6%B7%BB%E5%8A%A0%20context%20%E5%8F%82%E6%95%B0%0Aresponse%20%3D%20urllib.request.urlopen(request%2C%20context%20%3D%20context)%0Ahtml%20%3D%20response.read().decode()%0Aprint%20(html)%0A%60%60%60%0A%0A%0A%23%23%23%23%20%E5%85%B3%E4%BA%8ECA%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89%0A%0ACA(Certificate%20Authority)%E6%98%AF%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%E7%9A%84%E7%AE%80%E7%A7%B0%EF%BC%8C%E6%98%AF%E6%8C%87%E5%8F%91%E6%94%BE%E3%80%81%E7%AE%A1%E7%90%86%E3%80%81%E5%BA%9F%E9%99%A4%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E7%9A%84%E5%8F%97%E4%BF%A1%E4%BB%BB%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9C%BA%E6%9E%84%EF%BC%8C%E5%A6%82%E5%8C%97%E4%BA%AC%E6%95%B0%E5%AD%97%E8%AE%A4%E8%AF%81%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E3%80%81%E4%B8%8A%E6%B5%B7%E5%B8%82%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E7%AD%89...%0ACA%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E6%A3%80%E6%9F%A5%E8%AF%81%E4%B9%A6%E6%8C%81%E6%9C%89%E8%80%85%E8%BA%AB%E4%BB%BD%E7%9A%84%E5%90%88%E6%B3%95%E6%80%A7%EF%BC%8C%E5%B9%B6%E7%AD%BE%E5%8F%91%E8%AF%81%E4%B9%A6%EF%BC%8C%E4%BB%A5%E9%98%B2%E8%AF%81%E4%B9%A6%E8%A2%AB%E4%BC%AA%E9%80%A0%E6%88%96%E7%AF%A1%E6%94%B9%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%AF%B9%E8%AF%81%E4%B9%A6%E5%92%8C%E5%AF%86%E9%92%A5%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86%E3%80%82%0A%E7%8E%B0%E5%AE%9E%E7%94%9F%E6%B4%BB%E4%B8%AD%E5%8F%AF%E4%BB%A5%E7%94%A8%E8%BA%AB%E4%BB%BD%E8%AF%81%E6%9D%A5%E8%AF%81%E6%98%8E%E8%BA%AB%E4%BB%BD%EF%BC%8C%20%E9%82%A3%E4%B9%88%E5%9C%A8%E7%BD%91%E7%BB%9C%E4%B8%96%E7%95%8C%E9%87%8C%EF%BC%8C%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E5%B0%B1%E6%98%AF%E8%BA%AB%E4%BB%BD%E8%AF%81%E3%80%82%E5%92%8C%E7%8E%B0%E5%AE%9E%E7%94%9F%E6%B4%BB%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%EF%BC%8C%E5%B9%B6%E4%B8%8D%E6%98%AF%E6%AF%8F%E4%B8%AA%E4%B8%8A%E7%BD%91%E7%9A%84%E7%94%A8%E6%88%B7%E9%83%BD%E6%9C%89%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E7%9A%84%EF%BC%8C%E5%BE%80%E5%BE%80%E5%8F%AA%E6%9C%89%E5%BD%93%E4%B8%80%E4%B8%AA%E4%BA%BA%E9%9C%80%E8%A6%81%E8%AF%81%E6%98%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E8%BA%AB%E4%BB%BD%E7%9A%84%E6%97%B6%E5%80%99%E6%89%8D%E9%9C%80%E8%A6%81%E7%94%A8%E5%88%B0%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E3%80%82%0A%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E4%B8%80%E8%88%AC%E6%98%AF%E4%B8%8D%E9%9C%80%E8%A6%81%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%BD%91%E7%AB%99%E5%B9%B6%E4%B8%8D%E5%85%B3%E5%BF%83%E6%98%AF%E8%B0%81%E8%AE%BF%E9%97%AE%E4%BA%86%E7%BD%91%E7%AB%99%EF%BC%8C%E7%8E%B0%E5%9C%A8%E7%9A%84%E7%BD%91%E7%AB%99%E5%8F%AA%E5%85%B3%E5%BF%83%E6%B5%81%E9%87%8F%E3%80%82%E4%BD%86%E6%98%AF%E5%8F%8D%E8%BF%87%E6%9D%A5%EF%BC%8C%E7%BD%91%E7%AB%99%E5%B0%B1%E9%9C%80%E8%A6%81%E8%AF%81%E6%98%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E8%BA%AB%E4%BB%BD%E4%BA%86%E3%80%82%0A%E6%AF%94%E5%A6%82%E8%AF%B4%E7%8E%B0%E5%9C%A8%E9%92%93%E9%B1%BC%E7%BD%91%E7%AB%99%E5%BE%88%E5%A4%9A%E7%9A%84%EF%BC%8C%E6%AF%94%E5%A6%82%E4%BD%A0%E6%83%B3%E8%AE%BF%E9%97%AE%E7%9A%84%E6%98%AFwww.baidu.com%EF%BC%8C%E4%BD%86%E5%85%B6%E5%AE%9E%E4%BD%A0%E8%AE%BF%E9%97%AE%E7%9A%84%E6%98%AFwww.daibu.com%E2%80%9D%EF%BC%8C%E6%89%80%E4%BB%A5%E5%9C%A8%E6%8F%90%E4%BA%A4%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9A%90%E7%A7%81%E4%BF%A1%E6%81%AF%E4%B9%8B%E5%89%8D%E9%9C%80%E8%A6%81%E9%AA%8C%E8%AF%81%E4%B8%80%E4%B8%8B%E7%BD%91%E7%AB%99%E7%9A%84%E8%BA%AB%E4%BB%BD%EF%BC%8C%E8%A6%81%E6%B1%82%E7%BD%91%E7%AB%99%E5%87%BA%E7%A4%BA%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E3%80%82%0A%E4%B8%80%E8%88%AC%E6%AD%A3%E5%B8%B8%E7%9A%84%E7%BD%91%E7%AB%99%E9%83%BD%E4%BC%9A%E4%B8%BB%E5%8A%A8%E5%87%BA%E7%A4%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%EF%BC%8C%E6%9D%A5%E7%A1%AE%E4%BF%9D%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1%E6%95%B0%E6%8D%AE%E6%98%AF%E5%8A%A0%E5%AF%86%E5%AE%89%E5%85%A8%E7%9A%84%E3%80%82%0A%0A-----------------------------------------------------------------------%0A%0A%E7%AC%AC%E4%B8%80%E5%A4%A9%E4%BD%9C%E4%B8%9A%EF%BC%9A%0A%0A%E5%86%99%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%88%AC%E8%99%AB%E7%A8%8B%E5%BA%8F%EF%BC%8C%E6%9D%A5%E7%88%AC%E5%8F%96%E7%99%BE%E5%BA%A6%E8%B4%B4%E5%90%A7%E4%BB%BB%E6%84%8F%E5%90%A7%E7%9A%84%E5%89%8D10%E9%A1%B5%E7%BD%91%E9%A1%B5%EF%BC%8C%E5%B9%B6%E5%B0%86%E9%A1%B5%E9%9D%A2%E6%BA%90%E7%A0%81%E5%AD%98%E5%82%A8%E5%88%B0%E6%9C%AC%E5%9C%B0%E3%80%82%0A%0A----------------------------------------------------------------------%0A%0A%23%23%20urllib%20%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95%EF%BC%88%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86%EF%BC%89%0A%0A%E6%88%91%E4%BB%AC%E5%9C%A8%E5%81%9A%E7%88%AC%E8%99%AB%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%BB%8F%E5%B8%B8%E4%BC%9A%E9%81%87%E5%88%B0%E8%BF%99%E6%A0%B7%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%E6%9C%80%E5%88%9D%E7%88%AC%E8%99%AB%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C%EF%BC%8C%E6%AD%A3%E5%B8%B8%E6%8A%93%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%B8%80%E5%88%87%E7%9C%8B%E8%B5%B7%E6%9D%A5%E9%83%BD%E6%98%AF%E9%82%A3%E4%B9%88%E7%BE%8E%E5%A5%BD%EF%BC%8C%E7%84%B6%E8%80%8C%E4%B8%80%E6%9D%AF%E8%8C%B6%E7%9A%84%E5%8A%9F%E5%A4%AB%E5%8F%AF%E8%83%BD%E5%B0%B1%E4%BC%9A%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF%EF%BC%8C%E6%AF%94%E5%A6%82403%20Forbidden%EF%BC%8C%E8%BF%99%E6%97%B6%E5%80%99%E6%89%93%E5%BC%80%E7%BD%91%E9%A1%B5%E4%B8%80%E7%9C%8B%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%9C%8B%E5%88%B0%E2%80%9C%E6%82%A8%E7%9A%84IP%E8%AE%BF%E9%97%AE%E9%A2%91%E7%8E%87%E5%A4%AA%E9%AB%98%E2%80%9D%E8%BF%99%E6%A0%B7%E7%9A%84%E6%8F%90%E7%A4%BA%E3%80%82%E5%87%BA%E7%8E%B0%E8%BF%99%E7%A7%8D%E7%8E%B0%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%9B%A0%E6%98%AF%E7%BD%91%E7%AB%99%E9%87%87%E5%8F%96%E4%BA%86%E4%B8%80%E4%BA%9B%E5%8F%8D%E7%88%AC%E8%99%AB%E6%8E%AA%E6%96%BD%E3%80%82%E6%AF%94%E5%A6%82%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%9A%E6%A3%80%E6%B5%8B%E6%9F%90%E4%B8%AAIP%E5%9C%A8%E5%8D%95%E4%BD%8D%E6%97%B6%E9%97%B4%E5%86%85%E7%9A%84%E8%AF%B7%E6%B1%82%E6%AC%A1%E6%95%B0%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%B6%85%E8%BF%87%E4%BA%86%E8%BF%99%E4%B8%AA%E9%98%88%E5%80%BC%EF%BC%8C%E5%B0%B1%E4%BC%9A%E7%9B%B4%E6%8E%A5%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E5%8F%AF%E4%BB%A5%E7%A7%B0%E4%B8%BA%E5%B0%81IP%E3%80%82%0A%0A%23%23%23%23%23%20%E4%BB%80%E4%B9%88%E6%98%AF%E4%BB%A3%E7%90%86%EF%BC%9F%EF%BC%9F%EF%BC%9F%EF%BC%9F%0A%0A**%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%EF%BC%9A**%0A%E4%BB%A3%E7%90%86%E5%AE%9E%E9%99%85%E4%B8%8A%E6%8C%87%E7%9A%84%E5%B0%B1%E6%98%AF%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E8%8B%B1%E6%96%87%E5%8F%AB%E4%BD%9Cproxy%20server%EF%BC%8C%E5%AE%83%E7%9A%84%E5%8A%9F%E8%83%BD%E6%98%AF%E4%BB%A3%E7%90%86%E7%BD%91%E7%BB%9C%E7%94%A8%E6%88%B7%E5%8E%BB%E5%8F%96%E5%BE%97%E7%BD%91%E7%BB%9C%E4%BF%A1%E6%81%AF%E3%80%82%E5%BD%A2%E8%B1%A1%E5%9C%B0%E8%AF%B4%EF%BC%8C%E5%AE%83%E6%98%AF%E7%BD%91%E7%BB%9C%E4%BF%A1%E6%81%AF%E7%9A%84%E4%B8%AD%E8%BD%AC%E7%AB%99%E3%80%82%E5%9C%A8%E6%88%91%E4%BB%AC%E6%AD%A3%E5%B8%B8%E8%AF%B7%E6%B1%82%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99%E6%97%B6%EF%BC%8C%E5%85%B6%E5%AE%9E%E6%98%AF%E5%8F%91%E9%80%81%E4%BA%86%E8%AF%B7%E6%B1%82%E7%BB%99Web%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8CWeb%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8A%8A%E5%93%8D%E5%BA%94%E4%BC%A0%E5%9B%9E%E7%BB%99%E6%88%91%E4%BB%AC%E3%80%82%E5%A6%82%E6%9E%9C%E8%AE%BE%E7%BD%AE%E4%BA%86%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E5%AE%9E%E9%99%85%E4%B8%8A%E5%B0%B1%E6%98%AF%E5%9C%A8%E6%9C%AC%E6%9C%BA%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E6%90%AD%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E6%A1%A5%EF%BC%8C%E6%AD%A4%E6%97%B6%E6%9C%AC%E6%9C%BA%E4%B8%8D%E6%98%AF%E7%9B%B4%E6%8E%A5%E5%90%91Web%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82%EF%BC%8C%E8%80%8C%E6%98%AF%E5%90%91%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%91%E5%87%BA%E8%AF%B7%E6%B1%82%EF%BC%8C%E8%AF%B7%E6%B1%82%E4%BC%9A%E5%8F%91%E9%80%81%E7%BB%99%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E7%84%B6%E5%90%8E%E7%94%B1%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%86%8D%E5%8F%91%E9%80%81%E7%BB%99Web%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E6%8E%A5%E7%9D%80%E7%94%B1%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%86%8D%E6%8A%8AWeb%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%94%E5%9B%9E%E7%9A%84%E5%93%8D%E5%BA%94%E8%BD%AC%E5%8F%91%E7%BB%99%E6%9C%AC%E6%9C%BA%E3%80%82%E8%BF%99%E6%A0%B7%E6%88%91%E4%BB%AC%E5%90%8C%E6%A0%B7%E5%8F%AF%E4%BB%A5%E6%AD%A3%E5%B8%B8%E8%AE%BF%E9%97%AE%E7%BD%91%E9%A1%B5%EF%BC%8C%E4%BD%86%E8%BF%99%E4%B8%AA%E8%BF%87%E7%A8%8B%E4%B8%ADWeb%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AF%86%E5%88%AB%E5%87%BA%E7%9A%84%E7%9C%9F%E5%AE%9EIP%E5%B0%B1%E4%B8%8D%E5%86%8D%E6%98%AF%E6%88%91%E4%BB%AC%E6%9C%AC%E6%9C%BA%E7%9A%84IP%E4%BA%86%EF%BC%8C%E5%B0%B1%E6%88%90%E5%8A%9F%E5%AE%9E%E7%8E%B0%E4%BA%86IP%E4%BC%AA%E8%A3%85%EF%BC%8C%E8%BF%99%E5%B0%B1%E6%98%AF%E4%BB%A3%E7%90%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%0A%0A!%5Bweb_proxy%5D(https%3A%2F%2Fi.loli.net%2F2018%2F11%2F19%2F5bf2c0c6a0646.png)%0A%0A%0A%23%23%23%23%20%E9%83%A8%E5%88%86%E7%9F%A5%E8%AF%86%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89%0A%0A%23%23%23%23%23%20**%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A**%0A%0A-%201.**%E7%AA%81%E7%A0%B4%E8%87%AA%E8%BA%ABIP%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6**%EF%BC%8C%E8%AE%BF%E9%97%AE%E4%B8%80%E4%BA%9B%E5%B9%B3%E6%97%B6%E4%B8%8D%E8%83%BD%E8%AE%BF%E9%97%AE%E7%9A%84%E7%AB%99%E7%82%B9%E3%80%82%0A-%202.**%E6%8F%90%E9%AB%98%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6**%EF%BC%9A%E9%80%9A%E5%B8%B8%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%BD%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA%E8%BE%83%E5%A4%A7%E7%9A%84%E7%A1%AC%E7%9B%98%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E5%BD%93%E6%9C%89%E5%A4%96%E7%95%8C%E7%9A%84%E4%BF%A1%E6%81%AF%E9%80%9A%E8%BF%87%E6%97%B6%EF%BC%8C%E5%90%8C%E6%97%B6%E4%B9%9F%E5%B0%86%E5%85%B6%E4%BF%9D%E5%AD%98%E5%88%B0%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%AD%EF%BC%8C%E5%BD%93%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7%E5%86%8D%E8%AE%BF%E9%97%AE%E7%9B%B8%E5%90%8C%E7%9A%84%E4%BF%A1%E6%81%AF%E6%97%B6%EF%BC%8C%E5%88%99%E7%9B%B4%E6%8E%A5%E7%94%B1%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%AD%E5%8F%96%E5%87%BA%E4%BF%A1%E6%81%AF%EF%BC%8C%E4%BC%A0%E7%BB%99%E7%94%A8%E6%88%B7%EF%BC%8C%E4%BB%A5%E6%8F%90%E9%AB%98%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6%E3%80%82%0A-%203.**%E9%9A%90%E8%97%8F%E7%9C%9F%E5%AE%9EIP**%EF%BC%9A%E4%B8%8A%E7%BD%91%E8%80%85%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%BF%99%E7%A7%8D%E6%96%B9%E6%B3%95%E9%9A%90%E8%97%8F%E8%87%AA%E5%B7%B1%E7%9A%84IP%EF%BC%8C%E5%85%8D%E5%8F%97%E6%94%BB%E5%87%BB%E3%80%82%E5%AF%B9%E4%BA%8E%E7%88%AC%E8%99%AB%E6%9D%A5%E8%AF%B4%EF%BC%8C%E6%88%91%E4%BB%AC%E7%94%A8%E4%BB%A3%E7%90%86%E5%B0%B1%E6%98%AF%E4%B8%BA%E4%BA%86%E9%9A%90%E8%97%8F%E8%87%AA%E8%BA%ABIP%EF%BC%8C%E9%98%B2%E6%AD%A2%E8%87%AA%E8%BA%AB%E7%9A%84IP%E8%A2%AB%E5%B0%81%E9%94%81%E3%80%82%0A%0A%23%23%23%23%23%20**%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BB%A3%E7%90%86%E5%88%86%E7%B1%BB%EF%BC%9A**%0A%0A-%20**1.%E6%A0%B9%E6%8D%AE%E5%8D%8F%E8%AE%AE%E5%88%92%E5%88%86%EF%BC%9A**%0A%0A**FTP%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8**%EF%BC%9A%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E8%AE%BF%E9%97%AEFTP%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E4%B8%80%E8%88%AC%E6%9C%89%E4%B8%8A%E4%BC%A0%E3%80%81%E4%B8%8B%E8%BD%BD%E7%9A%84%E5%8A%9F%E8%83%BD%E4%BB%A5%E5%8F%8A%E7%BC%93%E5%AD%98%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%E4%B8%80%E8%88%AC%E4%B8%BA21%EF%BC%8C2121%E7%AD%89%E3%80%82%0A%0A**HTTP%2FHTTPS%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8**%EF%BC%9A%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E8%AE%BF%E9%97%AE%E7%BD%91%E9%A1%B5%EF%BC%8C%E4%B8%80%E8%88%AC%E6%9C%89%E5%86%85%E5%AE%B9%E8%BF%87%E6%BB%A4%E5%92%8C%E7%BC%93%E5%AD%98%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%E4%B8%80%E8%88%AC%E4%B8%BA80%E3%80%818080%E3%80%813128%E7%AD%89%0A%0A**SOCKS%E4%BB%A3%E7%90%86**%EF%BC%9A%E5%8F%AA%E6%98%AF%E5%8D%95%E7%BA%AF%E7%9A%84%E7%94%A8%E4%BA%8E%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE%E5%8C%85%EF%BC%8C%E4%B8%8D%E5%85%B3%E5%BF%83%E5%85%B7%E4%BD%93%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%94%A8%E6%B3%95%EF%BC%8C%E9%80%9F%E5%BA%A6%E5%BF%AB%E3%80%81%E6%9C%89%E7%BC%93%E5%AD%98%E5%8A%9F%E8%83%BD%EF%BC%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%E4%B8%80%E8%88%AC%E4%B8%BA1080%0A%0A-%20**2.%E6%A0%B9%E6%8D%AE%E5%8C%BF%E5%90%8D%E5%86%85%E5%AE%B9%E5%88%92%E5%88%86%EF%BC%9A**%0A%0A**%E9%AB%98%E5%BA%A6%E5%8C%BF%E5%90%8D%E4%BB%A3%E7%90%86**%EF%BC%9A%E4%BC%9A%E5%B0%86%E6%95%B0%E6%8D%AE%E5%8C%85%E5%8E%9F%E5%B0%81%E4%B8%8D%E5%8A%A8%E7%9A%84%E8%BD%AC%E5%8F%91%EF%BC%8C%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9C%8B%E6%9D%A5%E5%B0%B1%E5%A5%BD%E5%83%8F%E7%9C%9F%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%E7%9A%84%E7%94%A8%E6%88%B7%E7%9F%AD%E5%9C%A8%E8%AE%BF%E9%97%AE%EF%BC%8C%E8%80%8C%E8%AE%B0%E5%BD%95%E7%9A%84IP%E5%B0%B1%E6%98%AF%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84IP%0A%0A**%E6%99%AE%E9%80%9A%E5%8C%BF%E5%90%8D%E4%BB%A3%E7%90%86**%EF%BC%9A%E4%BC%9A%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%8C%85%E4%B8%8A%E5%81%9A%E4%B8%80%E4%BA%9B%E6%94%B9%E5%8A%A8%EF%BC%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%B8%8A%E6%9C%89%E5%8F%AF%E8%83%BD%E5%8F%91%E7%8E%B0%E8%BF%99%E4%B8%AA%E6%98%AF%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E4%B9%9F%E6%9C%89%E4%B8%80%E5%AE%9A%E7%9A%84%E5%87%A0%E7%8E%87%E8%BF%BD%E6%9F%A5%E5%88%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E7%9C%9F%E5%AE%9EIP.%0A%0A**%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86**%EF%BC%9A%E4%B8%8D%E4%BD%86%E6%94%B9%E5%8A%A8%E4%BA%86%E6%95%B0%E6%8D%AE%E5%8C%85%EF%BC%8C%E8%BF%98%E4%BC%9A%E5%91%8A%E8%AF%89%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E7%9C%9F%E5%AE%9EIP%EF%BC%8C%E8%BF%99%E7%A7%8D%E4%BB%A3%E7%90%86%E9%99%A4%E4%BA%86%E7%94%A8%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF%E6%8F%90%E9%AB%98%E6%B5%8F%E8%A7%88%E5%99%A8%E9%80%9F%E5%BA%A6%E3%80%82%E8%83%BD%E7%94%A8%E5%86%85%E5%AE%B9%E8%BF%87%E6%BB%A4%E6%8F%90%E9%AB%98%E5%AE%89%E5%85%A8%E6%80%A7%E4%B9%8B%E5%A4%96%EF%BC%8C%E5%B9%B6%E6%B2%A1%E6%9C%89%E5%85%B6%E4%BB%96%E4%BD%9C%E7%94%A8%E3%80%82%0A%0A%E5%85%8D%E8%B4%B9%E7%9F%AD%E6%9C%9F%E4%BB%A3%E7%90%86%E7%BD%91%E7%AB%99%E4%B8%BE%E4%BE%8B%EF%BC%9A%0A%0A-%20%E8%A5%BF%E5%88%BA%E5%85%8D%E8%B4%B9%E4%BB%A3%E7%90%86IP%EF%BC%9Ahttp%3A%2F%2Fwww.xicidaili.com%2F%0A-%20%E5%BF%AB%E4%BB%A3%E7%90%86%E5%85%8D%E8%B4%B9%E4%BB%A3%E7%90%86%3Ahttps%3A%2F%2Fwww.kuaidaili.com%2Ffree%2Finha%2F%0A%0A%E8%BF%99%E4%BA%9B%E5%85%8D%E8%B4%B9%E5%BC%80%E6%94%BE%E4%BB%A3%E7%90%86%E4%B8%80%E8%88%AC%E4%BC%9A%E6%9C%89%E5%BE%88%E5%A4%9A%E4%BA%BA%E9%83%BD%E5%9C%A8%E4%BD%BF%E7%94%A8%EF%BC%8C%E8%80%8C%E4%B8%94%E4%BB%A3%E7%90%86%E6%9C%89%E5%AF%BF%E5%91%BD%E7%9F%AD%EF%BC%8C%E9%80%9F%E5%BA%A6%E6%85%A2%EF%BC%8C%E5%8C%BF%E5%90%8D%E5%BA%A6%E4%B8%8D%E9%AB%98%EF%BC%8CHTTP%2FHTTPS%E6%94%AF%E6%8C%81%E4%B8%8D%E7%A8%B3%E5%AE%9A%E7%AD%89%E7%BC%BA%E7%82%B9%EF%BC%88%E5%85%8D%E8%B4%B9%E6%B2%A1%E5%A5%BD%E8%B4%A7%EF%BC%89%E3%80%82%0A%E6%89%80%E4%BB%A5%EF%BC%8C%E4%B8%93%E4%B8%9A%E7%88%AC%E8%99%AB%E5%B7%A5%E7%A8%8B%E5%B8%88%E6%88%96%E7%88%AC%E8%99%AB%E5%85%AC%E5%8F%B8%E4%BC%9A%E4%BD%BF%E7%94%A8%E9%AB%98%E5%93%81%E8%B4%A8%E7%9A%84%E4%BB%A3%E7%90%86%EF%BC%8C%E8%BF%99%E4%BA%9B%E4%BB%A3%E7%90%86%E9%80%9A%E5%B8%B8%E9%9C%80%E8%A6%81%E6%89%BE%E4%B8%93%E9%97%A8%E7%9A%84%E4%BB%A3%E7%90%86%E4%BE%9B%E5%BA%94%E5%95%86%E8%B4%AD%E4%B9%B0%E3%80%82%0A%0A%23%23%23%23%20%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%90%86Opener%0A%0A**ProxyHandler%E5%A4%84%E7%90%86%E5%99%A8%E7%94%A8%E6%9D%A5%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86**%0A%60%60%60%0Afrom%20urllib%20import%20request%2Cerror%0A%0A%23%E6%9E%84%E5%BB%BA%E6%94%AF%E6%8C%81%E4%BB%A3%E7%90%86%E7%9A%84handler%0Aproxy%20%3D%20%7B%0A%20%20%20%20'http'%3A'61.138.33.20%3A808'%2C%0A%20%20%20%20'https'%3A'120.69.82.110%3A44693'%2C%0A%7D%0A%0A%23%20%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E5%AF%86%E4%BB%A3%E7%90%86Handler%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E4%B8%8A%E7%A7%81%E5%AF%86%E4%BB%A3%E7%90%86%E8%B4%A6%E6%88%B7%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81%0A%23%20proxy%20%3D%20%7B%0A%23%20%20%20%20%22http%22%20%3A%22username%3Apassword%4061.135.217.7%3A80%22%0A%23%7D%0A%0Aproxy_handler%20%3D%20request.ProxyHandler(%0A%20%20%20%20proxies%3Dproxy%0A)%0A%0A%23%E6%A0%B9%E6%8D%AEproxy_handler%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%B8%80%E4%B8%AAopener%E5%AF%B9%E8%B1%A1%0Aopener%20%3D%20request.build_opener(proxy_handler)%0A%0A%23%20%E4%BD%BF%E7%94%A8https%3A%2F%2Fhttpbin.org%2Fget%E6%8E%A5%E5%8F%A3%E9%AA%8C%E8%AF%81%E4%BD%BF%E7%94%A8%E4%BA%86%E4%BB%A3%E7%90%86%0A%23%20url%20%3D%20'https%3A%2F%2Fhttpbin.org%2Fget'%0A%0Atry%3A%0A%20%20%20%20response%20%3D%20opener.open(url%2Ctimeout%3D5)%0A%20%20%20%20%0A%20%20%20%20%23%20%E5%B0%86%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84opener%E8%AE%BE%E7%BD%AE%E4%B8%BA%E5%85%A8%E5%B1%80%E7%9A%84opener%EF%BC%8C%E4%B9%8B%E5%90%8E%E4%BD%BF%E7%94%A8urlopen()%20%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%EF%BC%8C%E9%83%BD%E5%B0%86%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89opener%E5%AF%B9%E8%B1%A1%E3%80%82%0A%20%20%20%20%23%20request.install_opener(opener)%0A%20%20%20%20%23%20response%20%3D%20urlopen(request)%0A%20%20%20%20%0A%20%20%20%20print(response.status)%0Aexcept%20error.HTTPError%20as%20err%3A%0A%20%20%20%20print(err.reason)%0Aexcept%20error.URLError%20as%20err%3A%0A%20%20%20%20print(err.reason)%0A%0A%60%60%60%0A%0A**%E6%B3%A8%E6%84%8F%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86**%EF%BC%9A%0A%E5%8F%A6%E5%A4%96%E5%90%84%E5%A4%A7%E4%BB%A3%E7%90%86IP%E7%9A%84%E5%B9%B3%E5%8F%B0%E5%AF%B9%E6%AF%94%E7%BD%91%E5%9D%80%E5%8F%AF%E5%81%9A%E5%A6%82%E4%B8%8B%E5%8F%82%E8%80%83%EF%BC%9Ahttps%3A%2F%2Fcuiqingcai.com%2F5094.html%0A%0A%0A------------------------------------------------------------------------%0A%0A%23%23%20urllib%20%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95%EF%BC%88%E8%AE%BE%E7%BD%AEcookie%EF%BC%89%0A%0ACookie%0A%E6%98%AF%E6%8C%87%E6%9F%90%E4%BA%9B%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%BA%E4%BA%86%E8%BE%A8%E5%88%AB%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD%E5%92%8C%E8%BF%9B%E8%A1%8CSession%E8%B7%9F%E8%B8%AA%EF%BC%8C%E8%80%8C%E5%82%A8%E5%AD%98%E5%9C%A8%E7%94%A8%E6%88%B7%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8A%E7%9A%84%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%EF%BC%8CCookie%E5%8F%AF%E4%BB%A5%E4%BF%9D%E6%8C%81%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF%E5%88%B0%E7%94%A8%E6%88%B7%E4%B8%8B%E6%AC%A1%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%BC%9A%E8%AF%9D%E3%80%82%0A%0ACookie%E5%8E%9F%E7%90%86%0AHTTP%E6%98%AF%E6%97%A0%E7%8A%B6%E6%80%81%E7%9A%84%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8D%8F%E8%AE%AE%2C%20%E4%B8%BA%E4%BA%86%E4%BF%9D%E6%8C%81%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81%2C%20%E5%BC%95%E5%85%A5%E4%BA%86Cookie%E6%9C%BA%E5%88%B6%20Cookie%E6%98%AFhttp%E6%B6%88%E6%81%AF%E5%A4%B4%E4%B8%AD%E7%9A%84%E4%B8%80%E7%A7%8D%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%8C%85%E6%8B%AC%EF%BC%9A%0A%60%60%60%0ACookie%E5%90%8D%E5%AD%97%EF%BC%88Name%EF%BC%89%0ACookie%E7%9A%84%E5%80%BC%EF%BC%88Value%EF%BC%89%0A......%0A%60%60%60%0A%0A*%E9%82%A3%E4%B9%88%EF%BC%8C%E6%88%91%E4%BB%AC%E6%80%8E%E6%A0%B7%E5%88%A9%E7%94%A8Cookies%E4%BF%9D%E6%8C%81%E7%8A%B6%E6%80%81%E5%91%A2%EF%BC%9F**%0A%0A-%20%E5%BD%93%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%AF%B7%E6%B1%82%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%B6%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%9A%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%93%8D%E5%BA%94%E5%A4%B4%E4%B8%AD%E5%B8%A6%E6%9C%89Set-Cookie%E5%AD%97%E6%AE%B5%E7%9A%84%E5%93%8D%E5%BA%94%E7%BB%99%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%8C%E7%94%A8%E6%9D%A5%E6%A0%87%E8%AE%B0%E6%98%AF%E5%93%AA%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BC%9A%E6%8A%8ACookies%E4%BF%9D%E5%AD%98%E8%B5%B7%E6%9D%A5%E3%80%82%E5%BD%93%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E4%B8%80%E6%AC%A1%E5%86%8D%E8%AF%B7%E6%B1%82%E8%AF%A5%E7%BD%91%E7%AB%99%E6%97%B6%EF%BC%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BC%9A%E6%8A%8A%E6%AD%A4Cookies%E6%94%BE%E5%88%B0%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%B8%80%E8%B5%B7%E6%8F%90%E4%BA%A4%E7%BB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8CCookies%E6%90%BA%E5%B8%A6%E4%BA%86%E4%BC%9A%E8%AF%9DID%E4%BF%A1%E6%81%AF%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A3%80%E6%9F%A5%E8%AF%A5Cookies%E5%8D%B3%E5%8F%AF%E6%89%BE%E5%88%B0%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BC%9A%E8%AF%9D%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%8D%E5%88%A4%E6%96%AD%E4%BC%9A%E8%AF%9D%E6%9D%A5%E4%BB%A5%E6%AD%A4%E6%9D%A5%E8%BE%A8%E8%AE%A4%E7%94%A8%E6%88%B7%E7%8A%B6%E6%80%81%E3%80%82%0A%0A-%20%E5%9C%A8%E6%88%90%E5%8A%9F%E7%99%BB%E5%BD%95%E6%9F%90%E4%B8%AA%E7%BD%91%E7%AB%99%E6%97%B6%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%9A%E5%91%8A%E8%AF%89%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%BE%E7%BD%AE%E5%93%AA%E4%BA%9BCookies%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%9C%A8%E5%90%8E%E7%BB%AD%E8%AE%BF%E9%97%AE%E9%A1%B5%E9%9D%A2%E6%97%B6%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BC%9A%E6%8A%8ACookies%E5%8F%91%E9%80%81%E7%BB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%86%8D%E6%89%BE%E5%88%B0%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BC%9A%E8%AF%9D%E5%8A%A0%E4%BB%A5%E5%88%A4%E6%96%AD%E3%80%82%E5%A6%82%E6%9E%9C%E4%BC%9A%E8%AF%9D%E4%B8%AD%E7%9A%84%E6%9F%90%E4%BA%9B%E8%AE%BE%E7%BD%AE%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81%E7%9A%84%E5%8F%98%E9%87%8F%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%EF%BC%8C%E9%82%A3%E5%B0%B1%E8%AF%81%E6%98%8E%E7%94%A8%E6%88%B7%E5%A4%84%E4%BA%8E%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81%EF%BC%8C%E6%AD%A4%E6%97%B6%E8%BF%94%E5%9B%9E%E7%99%BB%E5%BD%95%E4%B9%8B%E5%90%8E%E6%89%8D%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B%E7%9A%84%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9%EF%BC%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%8D%E8%BF%9B%E8%A1%8C%E8%A7%A3%E6%9E%90%E4%BE%BF%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E4%BA%86%E3%80%82%0A%0A-%20%E5%8F%8D%E4%B9%8B%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BC%A0%E7%BB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84Cookies%E6%98%AF%E6%97%A0%E6%95%88%E7%9A%84%EF%BC%8C%E6%88%96%E8%80%85%E4%BC%9A%E8%AF%9D%E5%B7%B2%E7%BB%8F%E8%BF%87%E6%9C%9F%E4%BA%86%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%86%E4%B8%8D%E8%83%BD%E7%BB%A7%E7%BB%AD%E8%AE%BF%E9%97%AE%E9%A1%B5%E9%9D%A2%EF%BC%8C%E6%AD%A4%E6%97%B6%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%94%B6%E5%88%B0%E9%94%99%E8%AF%AF%E7%9A%84%E5%93%8D%E5%BA%94%E6%88%96%E8%80%85%E8%B7%B3%E8%BD%AC%E5%88%B0%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E9%87%8D%E6%96%B0%E7%99%BB%E5%BD%95%E3%80%82%0A%0A-%20%E6%89%80%E4%BB%A5%EF%BC%8CCookies%E5%92%8C%E4%BC%9A%E8%AF%9D%E9%9C%80%E8%A6%81%E9%85%8D%E5%90%88%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%A4%84%E4%BA%8E%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%A4%84%E4%BA%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%EF%BC%8C%E4%BA%8C%E8%80%85%E5%85%B1%E5%90%8C%E5%8D%8F%E4%BD%9C%EF%BC%8C%E5%B0%B1%E5%AE%9E%E7%8E%B0%E4%BA%86%E7%99%BB%E5%BD%95%E4%BC%9A%E8%AF%9D%E6%8E%A7%E5%88%B6%E3%80%82%0A%0ACookie%E7%94%B1%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8C%E5%80%BC%E7%BB%84%E6%88%90%EF%BC%8C%E6%A0%B9%E6%8D%AE%E8%A7%84%E5%AE%9A%EF%BC%8CCookie%E6%A0%BC%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0ASet%EF%BC%8DCookie%3A%20NAME%3DVALUE%EF%BC%9BExpires%3DDATE%EF%BC%9BPath%3DPATH%EF%BC%9BDomain%3DDOMAIN_NAME%EF%BC%9BSECURE%0A%0A%0ACookie%E5%BA%94%E7%94%A8%0ACookies%E5%9C%A8%E7%88%AC%E8%99%AB%E6%96%B9%E9%9D%A2%E6%9C%80%E5%85%B8%E5%9E%8B%E7%9A%84%E5%BA%94%E7%94%A8%E6%98%AF%E5%88%A4%E5%AE%9A%E6%B3%A8%E5%86%8C%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E7%99%BB%E5%BD%95%E7%BD%91%E7%AB%99%EF%BC%8C%E7%94%A8%E6%88%B7%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BE%97%E5%88%B0%E6%8F%90%E7%A4%BA%EF%BC%8C%E6%98%AF%E5%90%A6%E5%9C%A8%E4%B8%8B%E4%B8%80%E6%AC%A1%E8%BF%9B%E5%85%A5%E6%AD%A4%E7%BD%91%E7%AB%99%E6%97%B6%E4%BF%9D%E7%95%99%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E4%BB%A5%E4%BE%BF%E7%AE%80%E5%8C%96%E7%99%BB%E5%BD%95%E6%89%8B%E7%BB%AD%0A%0A%0A%23%23%23%23%20%E6%96%B9%E6%A1%88%E4%B8%80%EF%BC%9A%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E7%9A%84cookies%0A%0A%60%60%60%0Afrom%20urllib%20import%20request%2Cparse%2Cerror%0Aimport%20ssl%0Aurl%20%3D%20'https%3A%2F%2Fwww.kuaidaili.com%2Fusercenter%2F'%0A%0Aheaders%20%3D%20%7B%0A%20%20%20%20'User-Agent'%3A'Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010_13_6)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F74.0.3729.157%20Safari%2F537.36'%2C%0A%20%20%20%20'Cookie'%3A'channelid%3D0%3B%20sid%3D1558420660630216%3B%20_ga%3DGA1.2.108790330.1558420662%3B%20_gid%3DGA1.2.457464342.1558578669%3B%20Hm_lvt_7ed65b1cc4b810e9fd37959c9bb51b31%3D1558420662%2C1558578669%3B%20sessionid%3D3e9c383e3958736a3646013f893e9eec%3B%20Hm_lpvt_7ed65b1cc4b810e9fd37959c9bb51b31%3D1558578704'%0A%7D%0A%0Assl_context%20%3D%20ssl._create_unverified_context()%0A%0Areq%20%3D%20request.Request(url%3Durl%2Cheaders%3Dheaders%2Cmethod%3D'GET')%0Atry%3A%0A%20%20%20%20response%20%3D%20request.urlopen(req%2Ccontext%3Dssl_context)%0A%20%20%20%20if%20response.status%20%3D%3D%20200%3A%0A%20%20%20%20%20%20%20%20html%20%3D%20response.read().decode('utf-8')%0A%20%20%20%20%20%20%20%20if%20'2295808193'%20in%20html%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print('%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F')%0A%20%20%20%20%20%20%20%20with%20open('person.html'%2C'w')%20as%20file%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20file.write(html)%0A%0Aexcept%20error.HTTPError%20as%20err%3A%0A%20%20%20%20print(err.reason)%0A%0Aexcept%20error.URLError%20as%20err%3A%0A%20%20%20%20print(err.reason)%0A%60%60%60%0A%0A%23%23%23%23%20%E6%96%B9%E6%A1%88%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%A0%81%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%A8%A1%E6%8B%9F%E7%99%BB%E5%BD%95%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%90%8E%E7%9A%84cookies%E4%BF%A1%E6%81%AF%0A%0A%E9%80%9A%E8%BF%87%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E5%85%B6%E5%AE%9E%E6%98%AF%E5%AE%9E%E7%8E%B0%E4%BA%86%E8%8E%B7%E5%8F%96Cookie%EF%BC%8C%E9%80%9A%E8%BF%87Cookie%E6%9D%A5%E8%AF%B7%E6%B1%82%E7%BD%91%E9%A1%B5%E6%95%B0%E6%8D%AE%E7%9A%84%0A%E4%BD%86%E6%98%AF%E8%BF%99%E6%A0%B7%E5%BE%88%E6%98%8E%E6%98%BE%E4%B8%8D%E5%A4%9F%E7%81%B5%E6%B4%BB%EF%BC%8C%E4%B9%9F%E4%B8%8D%E5%A4%9F%E5%A4%8D%E6%9D%82%EF%BC%8C%E6%88%91%E4%BB%AC%E6%9C%89%E6%B2%A1%E6%9C%89%E6%96%B9%E4%BE%BF%E4%B8%80%E7%82%B9%E7%9A%84%E5%81%9A%E6%B3%95%E5%91%A2%EF%BC%9F%0A%0A%23%23%23%23%20**cookiejar%E5%BA%93%20%E5%92%8C%20HTTPCookieProcessor%E5%A4%84%E7%90%86%E5%99%A8**%0A%0A%E5%9C%A8Python%E5%A4%84%E7%90%86Cookie%EF%BC%8C%E4%B8%80%E8%88%AC%E6%98%AF%E9%80%9A%E8%BF%87cookiejar%E6%A8%A1%E5%9D%97%E5%92%8C%20urllib%E6%A8%A1%E5%9D%97%E7%9A%84HTTPCookieProcessor%E5%A4%84%E7%90%86%E5%99%A8%E7%B1%BB%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E3%80%82%0A%0A%3E%20**cookiejar%E6%A8%A1%E5%9D%97**%EF%BC%9A%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8%E6%98%AF%E6%8F%90%E4%BE%9B%E7%94%A8%E4%BA%8E%E5%AD%98%E5%82%A8cookie%E7%9A%84%E5%AF%B9%E8%B1%A1%0A%0A%3E%20**HTTPCookieProcessor%E5%A4%84%E7%90%86%E5%99%A8**%EF%BC%9A%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8%E6%98%AF%E5%A4%84%E7%90%86%E8%BF%99%E4%BA%9Bcookie%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E6%9E%84%E5%BB%BAhandler%E5%AF%B9%E8%B1%A1%E3%80%82%0A%0A%23%23%23%23%20**cookiejar%20%E5%BA%93**%0A%0A%E8%AF%A5%E6%A8%A1%E5%9D%97%E4%B8%BB%E8%A6%81%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%9C%89CookieJar%E3%80%81FileCookieJar%E3%80%81MozillaCookieJar%E3%80%81LWPCookieJar%E3%80%82%E5%85%B6%E5%AE%9E%E5%A4%A7%E5%A4%9A%E6%95%B0%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AA%E7%94%A8**CookieJar()**%EF%BC%8C%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%E5%92%8C%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E4%BA%A4%E4%BA%92%EF%BC%8C%E5%B0%B1%E7%94%A8%20**MozillaCookjar()**%0A%0A%3E%20**CookieJar**%EF%BC%9A%E7%AE%A1%E7%90%86HTTP%20cookie%E5%80%BC%E3%80%81%E5%AD%98%E5%82%A8HTTP%E8%AF%B7%E6%B1%82%E7%94%9F%E6%88%90%E7%9A%84cookie%E3%80%81%E5%90%91%E4%BC%A0%E5%87%BA%E7%9A%84HTTP%E8%AF%B7%E6%B1%82%E6%B7%BB%E5%8A%A0cookie%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%E6%95%B4%E4%B8%AAcookie%E9%83%BD%E5%AD%98%E5%82%A8%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%EF%BC%8C%E5%AF%B9CookieJar%E5%AE%9E%E4%BE%8B%E8%BF%9B%E8%A1%8C%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%90%8Ecookie%E4%B9%9F%E5%B0%86%E4%B8%A2%E5%A4%B1%E3%80%82%0A%0A%3E%20**MozillaCookieJar**%20(filename%2Cdelayload%3DNone%2Cpolicy%3DNone)%EF%BC%9A%E4%BB%8EFileCookieJar%E6%B4%BE%E7%94%9F%E8%80%8C%E6%9D%A5%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%B8%8EMozilla%E6%B5%8F%E8%A7%88%E5%99%A8%20cookies.txt%E5%85%BC%E5%AE%B9%E7%9A%84FileCookieJar%E5%AE%9E%E4%BE%8B%E3%80%82%0A%0A%0A%23%23%23%23%23%20%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B%E5%A6%82%E4%B8%8B%3A%0A%60%60%60%0A%23%E5%BF%AB%E4%BB%A3%E7%90%86%E7%99%BB%E5%BD%95%0Afrom%20urllib%20import%20request%2Cparse%2Cerror%0Afrom%20http%20import%20cookiejar%0Aimport%20ssl%2Curllib%0A%0Adef%20kdl_login(url%2Cdata)%3A%0A%0A%20%20%20%20%23%20%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AACookieJar%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B%E6%9D%A5%E4%BF%9D%E5%AD%98cookie%0A%20%20%20%20cookie_jar%20%3D%20cookiejar.CookieJar()%0A%0A%20%20%20%20%23%20%E4%BD%BF%E7%94%A8HTTPCookieProcessor()%E6%9D%A5%E5%88%9B%E5%BB%BAcookie%E5%A4%84%E7%90%86%E5%99%A8%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8F%82%E6%95%B0%E4%B8%BACookieJar()%E5%AF%B9%E8%B1%A1%0A%20%20%20%20%23%20handler%20%3D%20request.%0A%20%20%20%20handler%20%3D%20urllib.request.HTTPCookieProcessor(cookie_jar)%0A%0A%20%20%20%20ssl_context%20%3D%20ssl._create_unverified_context()%0A%0A%20%20%20%20https_hancler%20%3D%20urllib.request.HTTPSHandler(context%3Dssl_context)%0A%0A%20%20%20%20%23%20%E9%80%9A%E8%BF%87%20build_opener()%20%E6%9D%A5%E6%9E%84%E5%BB%BAopener%0A%20%20%20%20opener%20%3D%20urllib.request.build_opener(handler%2Chttps_hancler)%0A%0A%20%20%20%20headers%20%3D%20%7B%0A%20%20%20%20%20%20%20%20'User-Agent'%3A'Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010_13_6)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F74.0.3729.157%20Safari%2F537.36'%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20response%20%3D%20opener.open(url)%0A%0A%20%20%20%20print(response.headers)%0A%0A%20%20%20%20print(%7Bcookie.name%3Acookie.value%20for%20cookie%20in%20cookie_jar%7D)%0A%0A%20%20%20%20%23%23%23%23%23%E4%B8%8A%E5%8D%8A%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%E6%98%AF%E4%B8%BA%E4%BA%86%E8%8E%B7%E5%8F%96%E7%99%BB%E5%BD%95%E9%9C%80%E8%A6%81%E7%9A%84cookie%E4%BF%A1%E6%81%AF%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0A%20%20%20%20%23%23%23%23%23%E4%B8%8B%E5%8D%8A%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%E6%98%AF%E4%B8%BA%E4%BA%86%E8%8E%B7%E5%8F%96%E7%99%BB%E5%BD%95%E9%9C%80%E8%A6%81%E7%9A%84cookie%E4%BF%A1%E6%81%AF%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0A%20%20%20%20data%20%3D%20parse.urlencode(data).encode('utf-8')%0A%20%20%20%20print('%3D%3D%3D%3D%3D%3D'%2Cdata)%0A%0A%20%20%20%20req%20%3D%20request.Request(url%3Durl%2Cdata%3Ddata%2Cheaders%3Dheaders%2Cmethod%3D'POST')%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20response%20%3D%20opener.open(req)%0A%20%20%20%20%20%20%20%20if%20response.status%20%3D%3D%20200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%3D%20response.read().decode('utf-8')%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20'2295808193'%20in%20html%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print('%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%7Bcookie.name%3A%20cookie.value%20for%20cookie%20in%20cookie_jar%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20with%20open('person.html'%2C'w')%20as%20file%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20file.write(html)%0A%0A%20%20%20%20except%20error.HTTPError%20as%20err%3A%0A%20%20%20%20%20%20%20%20print(err.reason)%0A%0A%20%20%20%20except%20error.URLError%20as%20err%3A%0A%20%20%20%20%20%20%20%20print(err.reason)%0A%0A%0Aif%20__name__%20%3D%3D%20'__main__'%3A%0A%0A%20%20%20%20data%20%3D%20%7B%0A%20%20%20%20%20%20%20%20'next'%3A''%2C%0A%20%20%20%20%20%20%20%20'kf5_return_to'%3A''%2C%0A%20%20%20%20%20%20%20%20'username'%3A%20'18518753265'%2C%0A%20%20%20%20%20%20%20%20'passwd'%3A%20'ljh123456'%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20url%20%3D%20'https%3A%2F%2Fwww.kuaidaili.com%2Flogin%2F'%0A%0A%20%20%20%20kdl_login(url%2Cdata)%0A%60%60%60%0A%0A%E6%A8%A1%E6%8B%9F%E7%99%BB%E5%BD%95%E8%A6%81%E6%B3%A8%E6%84%8F%E5%87%A0%E7%82%B9%EF%BC%9A%0A%0A-%20%E7%99%BB%E5%BD%95%E4%B8%80%E8%88%AC%E9%83%BD%E4%BC%9A%E5%85%88%E6%9C%89%E4%B8%80%E4%B8%AAHTTP%20GET%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%8B%89%E5%8F%96%E4%B8%80%E4%BA%9B%E4%BF%A1%E6%81%AF%E5%8F%8A%E8%8E%B7%E5%BE%97Cookie%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%8DHTTP%20POST%E7%99%BB%E5%BD%95%E3%80%82%0A-%20HTTP%20POST%E7%99%BB%E5%BD%95%E7%9A%84%E9%93%BE%E6%8E%A5%E6%9C%89%E5%8F%AF%E8%83%BD%E6%98%AF%E5%8A%A8%E6%80%81%E7%9A%84%EF%BC%8C%E4%BB%8EGET%E8%BF%94%E5%9B%9E%E7%9A%84%E4%BF%A1%E6%81%AF%E4%B8%AD%E8%8E%B7%E5%8F%96%E3%80%82%0A-%20password%20%E6%9C%89%E4%BA%9B%E6%98%AF%E6%98%8E%E6%96%87%E5%8F%91%E9%80%81%EF%BC%8C%E6%9C%89%E4%BA%9B%E6%98%AF%E5%8A%A0%E5%AF%86%E5%90%8E%E5%8F%91%E9%80%81%E3%80%82%E6%9C%89%E4%BA%9B%E7%BD%91%E7%AB%99%E7%94%9A%E8%87%B3%E9%87%87%E7%94%A8%E5%8A%A8%E6%80%81%E5%8A%A0%E5%AF%86%E7%9A%84%EF%BC%8C%E5%90%8C%E6%97%B6%E5%8C%85%E6%8B%AC%E4%BA%86%E5%BE%88%E5%A4%9A%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8A%A0%E5%AF%86%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%8F%AA%E8%83%BD%E9%80%9A%E8%BF%87%E6%9F%A5%E7%9C%8BJS%E6%BA%90%E7%A0%81%E8%8E%B7%E5%BE%97%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%EF%BC%8C%E5%86%8D%E5%8E%BB%E7%A0%B4%E8%A7%A3%E5%8A%A0%E5%AF%86%EF%BC%8C%E9%9D%9E%E5%B8%B8%E5%9B%B0%E9%9A%BE%E3%80%82%0A-%20%E5%A4%A7%E5%A4%9A%E6%95%B0%E7%BD%91%E7%AB%99%E7%9A%84%E7%99%BB%E5%BD%95%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B%E6%98%AF%E7%B1%BB%E4%BC%BC%E7%9A%84%EF%BC%8C%E5%8F%AF%E8%83%BD%E6%9C%89%E4%BA%9B%E7%BB%86%E8%8A%82%E4%B8%8D%E4%B8%80%E6%A0%B7%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E8%83%BD%E4%BF%9D%E8%AF%81%E5%85%B6%E4%BB%96%E7%BD%91%E7%AB%99%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F.%0A%0A%0A------------%0A%23%23%23%20%E8%87%AA%E5%AD%A6%E4%BA%86%E8%A7%A3%E5%86%85%E5%AE%B9%0A-%20%E4%BC%9A%E8%AF%9D%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91%EF%BC%9A%0Ahttps%3A%2F%2Fbaike.baidu.com%2Fitem%2Fsession%2F479100%0A-%20Cookies%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91%EF%BC%9A%0Ahttps%3A%2F%2Fbaike.baidu.com%2Fitem%2Fcookie%2F1119%0A-%20HTTP%20Cookie%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%EF%BC%9A%0Ahttps%3A%2F%2Fen.wikipedia.org%2Fwiki%2FHTTP_cookie%0A-%20%E4%BC%9A%E8%AF%9D%E5%92%8C%E5%87%A0%E7%A7%8D%E7%8A%B6%E6%80%81%E4%BF%9D%E6%8C%81%E6%96%B9%E6%A1%88%E7%90%86%E8%A7%A3%EF%BC%9A%0Ahttp%3A%2F%2Fwww.mamicode.com%2Finfo-detail-46545.html</center></div></body></html>