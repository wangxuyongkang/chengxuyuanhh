<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.5 (458014)"/><meta name="altitude" content="36"/><meta name="author" content="李居豪"/><meta name="created" content="2019-05-29 13:53:34 +0000"/><meta name="latitude" content="39.63155600870906"/><meta name="longitude" content="116.0504260588829"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-06-13 02:47:01 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>21 Scrapy Shell 使用案例</title></head><body><div><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">Scrapy Shell</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Scrapy终端是一个交互终端，我们可以在未启动spider的情况下尝试及调试代码，也可以用来测试XPath或CSS表达式，查看他们的工作方式，方便我们爬取的网页中提取的数据。</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">如果安装了 IPython ，Scrapy终端将使用 IPython (替代标准Python终端)。 IPython 终端与其他相比更为强大，提供智能的自动补全，高亮输出，及其他特性。（推荐安装IPython）</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">启动Scrapy Shell</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">scrapy shell "http://hr.tencent.com/position.php?&amp;start=0#a"</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">scrapy shell -s USER_AGENT="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.86 Safari/537.36" "http://hr.tencent.com/position.php?&amp;start=0#a"</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;"><img src="21%20Scrapy%20Shell%20%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B.resources/76A63ADB-73F0-43C1-A40E-E608D5704650.png" height="804" width="856"/></span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">Scrapy Shell根据下载的页面会自动创建一些方便使用的对象，例如 Response 对象，以及 Selector 对象 (对HTML及XML内容)。</span></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">当shell载入后，将得到一个包含response数据的本地 response 变量，输入 response.body将输出response的包体，输出 response.headers 可以看到response的包头。</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">输入 response.selector 时， 将获取到一个response 初始化的类 Selector 的对象，此时可以通过使用 response.selector.xpath()或response.selector.css() 来对 response 进行查询。</span></div></li><li style="box-sizing: content-box; position: relative;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Scrapy也提供了一些快捷方式, 例如 response.xpath()或response.css()同样可以生效（如之前的案例）。</span></div></li></ul><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">Selectors选择器</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">Scrapy Selectors 内置 XPath 和 CSS Selector 表达式机制</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">Selector有四个基本的方法，最常用的还是xpath:</span></div></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">xpath(): 传入xpath表达式，返回该表达式所对应的所有节点的selector list列表</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">extract(): 序列化该节点为字符串并返回list</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">css(): 传入CSS表达式，返回该表达式所对应的所有节点的selector list列表，语法同 BeautifulSoup4</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">re(): 根据传入的正则表达式对数据进行提取，返回字符串list列表</span></div></li></ul><h3 style="box-sizing: content-box; font-size: 27px;"><span style="font-size: 27px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">尝试使用Selector</span></h3><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">我们用腾讯社招的网站http://hr.tencent.com/position.php?&amp;start=0#a举例：</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">scrapy shell "http://hr.tencent.com/position.php?&amp;start=0#a"</span></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">返回 xpath选择器对象列表</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath("//title")</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">[&lt;Selector xpath='//title' &gt;]</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">使用 extract()方法返回 Unicode字符串列表</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath('//title').extract()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">['&lt;title&gt;职位搜索 | 社会招聘 | Tencent 腾讯招聘&lt;/title&gt;']</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">打印列表第一个元素，终端编码格式显示</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath('//title').extract()[0]</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'&lt;title&gt;职位搜索 | 社会招聘 | Tencent 腾讯招聘&lt;/title&gt;'</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">返回 xpath选择器对象列表</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath('//title/text()')</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">[&lt;Selector xpath='//title/text()' &gt;]</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">返回列表第一个元素的Unicode字符串</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath('//title/text()')[0].extract()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'职位搜索 | 社会招聘 | Tencent 腾讯招聘'</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">职位名称:</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath("//tr[@]/td/a/text()").extract()[0]</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'15605-火影手游服务器开发工程师（深圳）'</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">职位名称详情页:</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath("//tr[@]/td/a/@href").extract()[0]</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'position_detail.php?id=40217&amp;keywords=&amp;tid=0&amp;lid=0'</span></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">职位类别:</span></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">response.xpath("//tr[@]/td[2]/text()").extract()[0]</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'技术类'</span></div><div><br/></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">以后做数据提取的时候，可以把现在Scrapy Shell中测试，测试通过后再应用到代码中。</span></div><hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/><div style="box-sizing: content-box; margin: 10px 0px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">当然Scrapy 的commend不仅仅如此，但是不属于我们课程重点，不做详细介绍。</span></div><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">例如：</span></div></div><ul style="box-sizing: content-box; list-style-type: disc; padding-left: 30px; margin: 6px 0px 10px;"><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">scrapy -h 查看所有可用的命令:</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">scrapy view -h 查看view命令的详细内容:</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">scrapy list列出当前项目中所有可用的spider</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">scrapy runspider xxxx.py在未创建项目的情况下，运行一个编写在Python文件中的spider。</span></div></li><li style="box-sizing: content-box; position: relative;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">scrapy version输出Scrapy版本</span></div></li></ul></div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">**Scrapy%20Shell**%0A%0AScrapy%E7%BB%88%E7%AB%AF%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BA%A4%E4%BA%92%E7%BB%88%E7%AB%AF%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%9C%A8%E6%9C%AA%E5%90%AF%E5%8A%A8spider%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E5%B0%9D%E8%AF%95%E5%8F%8A%E8%B0%83%E8%AF%95%E4%BB%A3%E7%A0%81%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%9D%A5%E6%B5%8B%E8%AF%95XPath%E6%88%96CSS%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E6%9F%A5%E7%9C%8B%E4%BB%96%E4%BB%AC%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%96%B9%E4%BE%BF%E6%88%91%E4%BB%AC%E7%88%AC%E5%8F%96%E7%9A%84%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%8F%90%E5%8F%96%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82%0A%0A%E5%A6%82%E6%9E%9C%E5%AE%89%E8%A3%85%E4%BA%86%20IPython%20%EF%BC%8CScrapy%E7%BB%88%E7%AB%AF%E5%B0%86%E4%BD%BF%E7%94%A8%20IPython%20(%E6%9B%BF%E4%BB%A3%E6%A0%87%E5%87%86Python%E7%BB%88%E7%AB%AF)%E3%80%82%20IPython%20%E7%BB%88%E7%AB%AF%E4%B8%8E%E5%85%B6%E4%BB%96%E7%9B%B8%E6%AF%94%E6%9B%B4%E4%B8%BA%E5%BC%BA%E5%A4%A7%EF%BC%8C%E6%8F%90%E4%BE%9B%E6%99%BA%E8%83%BD%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%EF%BC%8C%E9%AB%98%E4%BA%AE%E8%BE%93%E5%87%BA%EF%BC%8C%E5%8F%8A%E5%85%B6%E4%BB%96%E7%89%B9%E6%80%A7%E3%80%82%EF%BC%88%E6%8E%A8%E8%8D%90%E5%AE%89%E8%A3%85IPython%EF%BC%89%0A%0A**%E5%90%AF%E5%8A%A8Scrapy%20Shell**%0A%60%60%60%0Ascrapy%20shell%20%22http%3A%2F%2Fhr.tencent.com%2Fposition.php%3F%26start%3D0%23a%22%0A%0Ascrapy%20shell%20-s%20USER_AGENT%3D%22Mozilla%2F5.0%20(Windows%20NT%206.1)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F59.0.3071.86%20Safari%2F537.36%22%20%20%22http%3A%2F%2Fhr.tencent.com%2Fposition.php%3F%26start%3D0%23a%22%0A%60%60%60%0A!%5B1721F22A-D7FD-451E-A01E-AD1C7732EB47%5D(https%3A%2F%2Fi.loli.net%2F2018%2F10%2F29%2F5bd69738c8f80.png)%0A%0A**Scrapy%20Shell%E6%A0%B9%E6%8D%AE%E4%B8%8B%E8%BD%BD%E7%9A%84%E9%A1%B5%E9%9D%A2%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BA%9B%E6%96%B9%E4%BE%BF%E4%BD%BF%E7%94%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BE%8B%E5%A6%82%20Response%20%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BB%A5%E5%8F%8A%20Selector%20%E5%AF%B9%E8%B1%A1%20(%E5%AF%B9HTML%E5%8F%8AXML%E5%86%85%E5%AE%B9)%E3%80%82**%0A%0A-%20%E5%BD%93shell%E8%BD%BD%E5%85%A5%E5%90%8E%EF%BC%8C%E5%B0%86%E5%BE%97%E5%88%B0%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%ABresponse%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9C%AC%E5%9C%B0%20response%20%E5%8F%98%E9%87%8F%EF%BC%8C%E8%BE%93%E5%85%A5%20response.body%E5%B0%86%E8%BE%93%E5%87%BAresponse%E7%9A%84%E5%8C%85%E4%BD%93%EF%BC%8C%E8%BE%93%E5%87%BA%20response.headers%20%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0response%E7%9A%84%E5%8C%85%E5%A4%B4%E3%80%82%0A%0A-%20%E8%BE%93%E5%85%A5%20response.selector%20%E6%97%B6%EF%BC%8C%20%E5%B0%86%E8%8E%B7%E5%8F%96%E5%88%B0%E4%B8%80%E4%B8%AAresponse%20%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E7%B1%BB%20Selector%20%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%AD%A4%E6%97%B6%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%BD%BF%E7%94%A8%20response.selector.xpath()%E6%88%96response.selector.css()%20%E6%9D%A5%E5%AF%B9%20response%20%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2%E3%80%82%0A%0A-%20Scrapy%E4%B9%9F%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%80%E4%BA%9B%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%2C%20%E4%BE%8B%E5%A6%82%20response.xpath()%E6%88%96response.css()%E5%90%8C%E6%A0%B7%E5%8F%AF%E4%BB%A5%E7%94%9F%E6%95%88%EF%BC%88%E5%A6%82%E4%B9%8B%E5%89%8D%E7%9A%84%E6%A1%88%E4%BE%8B%EF%BC%89%E3%80%82%0A%0A%0A**Selectors%E9%80%89%E6%8B%A9%E5%99%A8**%0A**Scrapy%20Selectors%20%E5%86%85%E7%BD%AE%20XPath%20%E5%92%8C%20CSS%20Selector%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9C%BA%E5%88%B6**%0ASelector%E6%9C%89%E5%9B%9B%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E6%9C%80%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BF%98%E6%98%AFxpath%3A%0A%0A-%20xpath()%3A%20%E4%BC%A0%E5%85%A5xpath%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E8%BF%94%E5%9B%9E%E8%AF%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E7%9A%84selector%20list%E5%88%97%E8%A1%A8%0A-%20extract()%3A%20%E5%BA%8F%E5%88%97%E5%8C%96%E8%AF%A5%E8%8A%82%E7%82%B9%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B9%B6%E8%BF%94%E5%9B%9Elist%0A-%20css()%3A%20%E4%BC%A0%E5%85%A5CSS%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E8%BF%94%E5%9B%9E%E8%AF%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E7%9A%84selector%20list%E5%88%97%E8%A1%A8%EF%BC%8C%E8%AF%AD%E6%B3%95%E5%90%8C%20BeautifulSoup4%0A-%20re()%3A%20%E6%A0%B9%E6%8D%AE%E4%BC%A0%E5%85%A5%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E6%8F%90%E5%8F%96%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2list%E5%88%97%E8%A1%A8%0A%0A%0A%23%23%23%20%E5%B0%9D%E8%AF%95%E4%BD%BF%E7%94%A8Selector%0A%0A%E6%88%91%E4%BB%AC%E7%94%A8%E8%85%BE%E8%AE%AF%E7%A4%BE%E6%8B%9B%E7%9A%84%E7%BD%91%E7%AB%99http%3A%2F%2Fhr.tencent.com%2Fposition.php%3F%26start%3D0%23a%E4%B8%BE%E4%BE%8B%EF%BC%9A%0A%60%60%60%0Ascrapy%20shell%20%22http%3A%2F%2Fhr.tencent.com%2Fposition.php%3F%26start%3D0%23a%22%0A%60%60%60%0A%0A**%E8%BF%94%E5%9B%9E%20xpath%E9%80%89%E6%8B%A9%E5%99%A8%E5%AF%B9%E8%B1%A1%E5%88%97%E8%A1%A8**%0A%60%60%60%0Aresponse.xpath(%22%2F%2Ftitle%22)%0A%0A%5B%3CSelector%20xpath%3D'%2F%2Ftitle'%20data%3D'%3Ctitle%3E%E8%81%8C%E4%BD%8D%E6%90%9C%E7%B4%A2%20%7C%20%E7%A4%BE%E4%BC%9A%E6%8B%9B%E8%81%98%20%7C%20Tencent%20%E8%85%BE%E8%AE%AF%E6%8B%9B%E8%81%98%3C%2Ftitle'%3E%5D%0A%60%60%60%0A%0A**%E4%BD%BF%E7%94%A8%20extract()%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9E%20Unicode%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%97%E8%A1%A8**%0A%60%60%60%0Aresponse.xpath('%2F%2Ftitle').extract()%0A%0A%5B'%3Ctitle%3E%E8%81%8C%E4%BD%8D%E6%90%9C%E7%B4%A2%20%7C%20%E7%A4%BE%E4%BC%9A%E6%8B%9B%E8%81%98%20%7C%20Tencent%20%E8%85%BE%E8%AE%AF%E6%8B%9B%E8%81%98%3C%2Ftitle%3E'%5D%0A%60%60%60%0A%0A**%E6%89%93%E5%8D%B0%E5%88%97%E8%A1%A8%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%EF%BC%8C%E7%BB%88%E7%AB%AF%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%E6%98%BE%E7%A4%BA**%0A%60%60%60%0Aresponse.xpath('%2F%2Ftitle').extract()%5B0%5D%0A%0A'%3Ctitle%3E%E8%81%8C%E4%BD%8D%E6%90%9C%E7%B4%A2%20%7C%20%E7%A4%BE%E4%BC%9A%E6%8B%9B%E8%81%98%20%7C%20Tencent%20%E8%85%BE%E8%AE%AF%E6%8B%9B%E8%81%98%3C%2Ftitle%3E'%0A%60%60%60%0A%0A**%E8%BF%94%E5%9B%9E%20xpath%E9%80%89%E6%8B%A9%E5%99%A8%E5%AF%B9%E8%B1%A1%E5%88%97%E8%A1%A8**%0A%60%60%60%0Aresponse.xpath('%2F%2Ftitle%2Ftext()')%0A%0A%5B%3CSelector%20xpath%3D'%2F%2Ftitle%2Ftext()'%20data%3D'%E8%81%8C%E4%BD%8D%E6%90%9C%E7%B4%A2%20%7C%20%E7%A4%BE%E4%BC%9A%E6%8B%9B%E8%81%98%20%7C%20Tencent%20%E8%85%BE%E8%AE%AF%E6%8B%9B%E8%81%98'%3E%5D%0A%60%60%60%0A%0A**%E8%BF%94%E5%9B%9E%E5%88%97%E8%A1%A8%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84Unicode%E5%AD%97%E7%AC%A6%E4%B8%B2**%0A%60%60%60%0Aresponse.xpath('%2F%2Ftitle%2Ftext()')%5B0%5D.extract()%0A%0A'%E8%81%8C%E4%BD%8D%E6%90%9C%E7%B4%A2%20%7C%20%E7%A4%BE%E4%BC%9A%E6%8B%9B%E8%81%98%20%7C%20Tencent%20%E8%85%BE%E8%AE%AF%E6%8B%9B%E8%81%98'%0A%60%60%60%0A%0A**%E8%81%8C%E4%BD%8D%E5%90%8D%E7%A7%B0%3A**%0A%60%60%60%0Aresponse.xpath(%22%2F%2Ftr%5B%40class%3D'even'%5D%2Ftd%2Fa%2Ftext()%22).extract()%5B0%5D%0A%0A'15605-%E7%81%AB%E5%BD%B1%E6%89%8B%E6%B8%B8%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88%EF%BC%88%E6%B7%B1%E5%9C%B3%EF%BC%89'%0A%60%60%60%0A%0A**%E8%81%8C%E4%BD%8D%E5%90%8D%E7%A7%B0%E8%AF%A6%E6%83%85%E9%A1%B5%3A**%0A%60%60%60%0Aresponse.xpath(%22%2F%2Ftr%5B%40class%3D'even'%5D%2Ftd%2Fa%2F%40href%22).extract()%5B0%5D%0A%0A'position_detail.php%3Fid%3D40217%26keywords%3D%26tid%3D0%26lid%3D0'%0A%60%60%60%0A%0A**%E8%81%8C%E4%BD%8D%E7%B1%BB%E5%88%AB%3A**%0A%60%60%60%0Aresponse.xpath(%22%2F%2Ftr%5B%40class%3D'even'%5D%2Ftd%5B2%5D%2Ftext()%22).extract()%5B0%5D%0A%0A'%E6%8A%80%E6%9C%AF%E7%B1%BB'%0A%0A%60%60%60%0A%0A%E4%BB%A5%E5%90%8E%E5%81%9A%E6%95%B0%E6%8D%AE%E6%8F%90%E5%8F%96%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8A%8A%E7%8E%B0%E5%9C%A8Scrapy%20Shell%E4%B8%AD%E6%B5%8B%E8%AF%95%EF%BC%8C%E6%B5%8B%E8%AF%95%E9%80%9A%E8%BF%87%E5%90%8E%E5%86%8D%E5%BA%94%E7%94%A8%E5%88%B0%E4%BB%A3%E7%A0%81%E4%B8%AD%E3%80%82%0A%0A----------------------------------------------------------%0A%0A%E5%BD%93%E7%84%B6Scrapy%20%E7%9A%84commend%E4%B8%8D%E4%BB%85%E4%BB%85%E5%A6%82%E6%AD%A4%EF%BC%8C%E4%BD%86%E6%98%AF%E4%B8%8D%E5%B1%9E%E4%BA%8E%E6%88%91%E4%BB%AC%E8%AF%BE%E7%A8%8B%E9%87%8D%E7%82%B9%EF%BC%8C%E4%B8%8D%E5%81%9A%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D%E3%80%82%0A%E4%BE%8B%E5%A6%82%EF%BC%9A%0A-%20scrapy%20-h%20%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4%3A%0A-%20scrapy%20view%20-h%20%E6%9F%A5%E7%9C%8Bview%E5%91%BD%E4%BB%A4%E7%9A%84%E8%AF%A6%E7%BB%86%E5%86%85%E5%AE%B9%3A%0A-%20scrapy%20list%E5%88%97%E5%87%BA%E5%BD%93%E5%89%8D%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E7%9A%84spider%0A-%20scrapy%20runspider%20xxxx.py%E5%9C%A8%E6%9C%AA%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E8%BF%90%E8%A1%8C%E4%B8%80%E4%B8%AA%E7%BC%96%E5%86%99%E5%9C%A8Python%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84spider%E3%80%82%0A-%20scrapy%20version%E8%BE%93%E5%87%BAScrapy%E7%89%88%E6%9C%AC%0A</center></div></body></html>