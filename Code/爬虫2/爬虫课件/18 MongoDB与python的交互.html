<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.0.5 (458014)"/><meta name="altitude" content="36"/><meta name="author" content="李居豪"/><meta name="created" content="2019-05-29 05:24:20 +0000"/><meta name="latitude" content="39.63160386470755"/><meta name="longitude" content="116.0505396072704"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-06-11 01:06:52 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>18 MongoDB与python的交互</title></head><body><div><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">与python交互</span></h4><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">点击查看官方文档(http://api.mongodb.com/python/current/tutorial.html)</span></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%; font-weight: 700; box-sizing: content-box;">step1:安装python包</span></div><blockquote style="box-sizing: content-box; margin: 15px 0px; border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px;"><div style="box-sizing: content-box; margin: 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">sudo pip3 install pymongo</span></div></blockquote><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#　mongodb与python的交互</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 　pip3 intsall pymongo</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">import pymongo</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">from bson.objectid import ObjectId</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#创建mongo客户端链接</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">mongoConn = pymongo.MongoClient('localhost',27017)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 第二种</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># mongoConn = pymongo.MongoClient('mongodb://localhost:27017/')</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#有账号和密码的连接</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#mongoConn = pymongo.MongoClient('mongodb://user:paw@localhost:27017/')</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#操作数据库下的集合</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#获取要操作的数据库</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># use_db = mongoConn.数据库名称</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">use_db = mongoConn.mongotest</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># use_db = mongoConn['mongotest']</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#获取数据库下要操作的集合</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">use_col = use_db.class1804</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># use_col = use_db['class1804']</span></div></div></div><h2 style="box-sizing: content-box; font-size: 34px; border-bottom: 1px solid rgb(219, 219, 219);"><span style="font-size: 34px; color: rgb(51, 51, 51); font-weight: 700; line-height: 160%;">文档操作</span></h2><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">增</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">def add_data():</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">document = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># '_id':'2e761r27e1' 指定id</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'name':'liyong',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'age':20,</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'gender':'男',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'class':'1804',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">document1 = {</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'name':'lihua',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'age':22,</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'gender':'男',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'class':'1804',</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">}</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#插入单条(result直接返回一个ｉｄ串)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.insert(document)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># use_col.insert_one(document)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#插入多条(result直接返回list(Object(...),Object(...))</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">result = use_col.insert([document,document1])</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># use_col.insert_many([document,document1])</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#也可以使用save</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># use_col.save(document)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(result)</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">删</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">def delete_data():</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#删除一条</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#result = use_col.delete_one({})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.remove({'name':'liyong'},multi=False)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(result)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#删除多条</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.delete_many({})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#　multi=False删除一条，multi=True删除多条，</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">result = use_col.remove({'name':'liyong'})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print(result)</span></div></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">改</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">def update_data():</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#默认情况下只修改一条</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.update({'name':'liyong'},{'$set':{'age':23}})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(result)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#全文档更新只修改一条</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.update({'name':'liyong'},{'name':'lisi','age':23})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(result)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#更新超照到的全部结果修改多条</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.update_many({'name':'liyong'},{'$set':{'age':23}})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(result)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#　使用save做更新操作,全文档更新</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#注意：name 'ObjectId' is not defined,导入Bson模块下的objectid</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">result = use_col.save(</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">{'_id':ObjectId("5b836b9711575e79be9af0c7"),</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">'name':'wangwu'}</span></div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">)</span></div></div><h4 style="box-sizing: content-box; font-size: 20px;"><span style="font-size: 20px; color: rgb(51, 51, 51); line-height: 160%;">查</span></h4><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">def find_data():</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#　使用find查询，会返回一个ｃｕｒｓｏｒ对象，</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#&lt;pymongo.cursor.Cursor object at 0x7fa13d988e10&gt;</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># 我们要拿到数据，需要遍历</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.find({'name':'liyong'})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(result)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print([i for i in result])</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.find_one_and_delete()</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.find_one_and_replace()</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.find_one_and_update()</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#find_one查询时，直接返回一个字典</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.find_one({'name':'liyong'})</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(result)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(type(result))</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">#跳过和限制查询s</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># result = use_col.find({}).limit(4).skip(2).sort([("age",1),("name",1)])</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">result = use_col.find({}).limit(4).skip(2).sort("age",1).sort("name",1)</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">print([i for i in result])</span></div><div><br/></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># for dict in result:</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># print(dict)</span></div></div></div><div style="box-sizing: content-box; border: 0px; border-radius: 0px; margin: 2px 0px 8px; background-color: rgb(245, 247, 248);"><div style="overflow-x: auto; background: rgb(30, 30, 30); box-sizing: content-box; border: 0px; border-radius: 0px; letter-spacing: -0.3px; padding: 18px; white-space: pre-wrap;"><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);">if __name__ == '__main__':</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># add_data()</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># update_data()</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># find_data()</span></div><div><span style="font-size: 14px; line-height: 160%; color: rgb(244, 244, 244);"># delete_data()</span></div><div><br/></div></div></div><div style="box-sizing: content-box; margin: 10px 0px;"><span style="font-size: 14px; color: rgb(51, 51, 51); line-height: 160%;">更多使用详情可以查看mongo的官方文档使用方法：官方文档（http://api.mongodb.com/python/current/tutorial.html）</span></div></div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%23%23%23%20**%E4%B8%8Epython%E4%BA%A4%E4%BA%92**%0A%0A%E7%82%B9%E5%87%BB%E6%9F%A5%E7%9C%8B%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3(http%3A%2F%2Fapi.mongodb.com%2Fpython%2Fcurrent%2Ftutorial.html)%0A%0A**step1%3A%E5%AE%89%E8%A3%85python%E5%8C%85**%0A%0A%3E%20sudo%20pip3%20install%20pymongo%0A%0A%60%60%60%0A%23%E3%80%80mongodb%E4%B8%8Epython%E7%9A%84%E4%BA%A4%E4%BA%92%0A%23%20%E3%80%80pip3%20intsall%20pymongo%0Aimport%20pymongo%0Afrom%20bson.objectid%20import%20ObjectId%0A%0A%23%E5%88%9B%E5%BB%BAmongo%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%93%BE%E6%8E%A5%0AmongoConn%20%3D%20pymongo.MongoClient('localhost'%2C27017)%0A%23%20%E7%AC%AC%E4%BA%8C%E7%A7%8D%0A%23%20mongoConn%20%3D%20pymongo.MongoClient('mongodb%3A%2F%2Flocalhost%3A27017%2F')%0A%0A%23%E6%9C%89%E8%B4%A6%E5%8F%B7%E5%92%8C%E5%AF%86%E7%A0%81%E7%9A%84%E8%BF%9E%E6%8E%A5%0A%23mongoConn%20%3D%20pymongo.MongoClient('mongodb%3A%2F%2Fuser%3Apaw%40localhost%3A27017%2F')%0A%0A%23%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8B%E7%9A%84%E9%9B%86%E5%90%88%0A%23%E8%8E%B7%E5%8F%96%E8%A6%81%E6%93%8D%E4%BD%9C%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%0A%23%20use_db%20%3D%20mongoConn.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D%E7%A7%B0%0Ause_db%20%3D%20mongoConn.mongotest%0A%23%20use_db%20%3D%20mongoConn%5B'mongotest'%5D%0A%0A%23%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8B%E8%A6%81%E6%93%8D%E4%BD%9C%E7%9A%84%E9%9B%86%E5%90%88%0Ause_col%20%3D%20use_db.class1804%0A%23%20use_col%20%3D%20use_db%5B'class1804'%5D%0A%60%60%60%0A%23%23%20%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C%0A%23%23%23%23%20%E5%A2%9E%0A%60%60%60%0Adef%20add_data()%3A%0A%20%20%20%20document%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%23%20'_id'%3A'2e761r27e1'%20%E6%8C%87%E5%AE%9Aid%0A%20%20%20%20%20%20%20%20'name'%3A'liyong'%2C%0A%20%20%20%20%20%20%20%20'age'%3A20%2C%0A%20%20%20%20%20%20%20%20'gender'%3A'%E7%94%B7'%2C%0A%20%20%20%20%20%20%20%20'class'%3A'1804'%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20document1%20%3D%20%7B%0A%20%20%20%20%20%20%20%20'name'%3A'lihua'%2C%0A%20%20%20%20%20%20%20%20'age'%3A22%2C%0A%20%20%20%20%20%20%20%20'gender'%3A'%E7%94%B7'%2C%0A%20%20%20%20%20%20%20%20'class'%3A'1804'%2C%0A%20%20%20%20%7D%0A%20%20%20%20%23%E6%8F%92%E5%85%A5%E5%8D%95%E6%9D%A1(result%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%EF%BD%89%EF%BD%84%E4%B8%B2)%0A%20%20%20%20%23%20result%20%3D%20use_col.insert(document)%0A%20%20%20%20%23%20use_col.insert_one(document)%0A%20%20%20%20%23%E6%8F%92%E5%85%A5%E5%A4%9A%E6%9D%A1(result%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9Elist(Object(...)%2CObject(...))%0A%20%20%20%20result%20%3D%20use_col.insert(%5Bdocument%2Cdocument1%5D)%0A%20%20%20%20%23%20use_col.insert_many(%5Bdocument%2Cdocument1%5D)%0A%20%20%20%20%23%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8save%0A%20%20%20%20%23%20use_col.save(document)%0A%20%20%20%20print(result)%0A%60%60%60%0A%23%23%23%23%20%20%E5%88%A0%0A%60%60%60%0Adef%20delete_data()%3A%0A%20%20%20%20%23%E5%88%A0%E9%99%A4%E4%B8%80%E6%9D%A1%0A%20%20%20%20%23result%20%3D%20use_col.delete_one(%7B%7D)%0A%20%20%20%20%23%20result%20%3D%20use_col.remove(%7B'name'%3A'liyong'%7D%2Cmulti%3DFalse)%0A%20%20%20%20%23%20print(result)%0A%20%20%20%20%23%E5%88%A0%E9%99%A4%E5%A4%9A%E6%9D%A1%0A%20%20%20%20%23%20result%20%3D%20use_col.delete_many(%7B%7D)%0A%20%20%20%20%23%E3%80%80multi%3DFalse%E5%88%A0%E9%99%A4%E4%B8%80%E6%9D%A1%EF%BC%8Cmulti%3DTrue%E5%88%A0%E9%99%A4%E5%A4%9A%E6%9D%A1%EF%BC%8C%0A%20%20%20%20result%20%3D%20use_col.remove(%7B'name'%3A'liyong'%7D)%0A%20%20%20%20print(result)%0A%60%60%60%0A%23%23%23%23%20%E6%94%B9%0A%60%60%60%0Adef%20update_data()%3A%0A%20%20%20%20%23%E9%BB%98%E8%AE%A4%E6%83%85%E5%86%B5%E4%B8%8B%E5%8F%AA%E4%BF%AE%E6%94%B9%E4%B8%80%E6%9D%A1%0A%20%20%20%20%23%20result%20%3D%20use_col.update(%7B'name'%3A'liyong'%7D%2C%7B'%24set'%3A%7B'age'%3A23%7D%7D)%0A%20%20%20%20%23%20print(result)%0A%20%20%20%20%23%E5%85%A8%E6%96%87%E6%A1%A3%E6%9B%B4%E6%96%B0%E5%8F%AA%E4%BF%AE%E6%94%B9%E4%B8%80%E6%9D%A1%0A%20%20%20%20%23%20result%20%3D%20use_col.update(%7B'name'%3A'liyong'%7D%2C%7B'name'%3A'lisi'%2C'age'%3A23%7D)%0A%20%20%20%20%23%20print(result)%0A%20%20%20%20%23%E6%9B%B4%E6%96%B0%E8%B6%85%E7%85%A7%E5%88%B0%E7%9A%84%E5%85%A8%E9%83%A8%E7%BB%93%E6%9E%9C%E4%BF%AE%E6%94%B9%E5%A4%9A%E6%9D%A1%0A%20%20%20%20%23%20result%20%3D%20use_col.update_many(%7B'name'%3A'liyong'%7D%2C%7B'%24set'%3A%7B'age'%3A23%7D%7D)%0A%20%20%20%20%23%20print(result)%0A%20%20%20%20%23%E3%80%80%E4%BD%BF%E7%94%A8save%E5%81%9A%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C%2C%E5%85%A8%E6%96%87%E6%A1%A3%E6%9B%B4%E6%96%B0%0A%20%20%20%20%23%E6%B3%A8%E6%84%8F%EF%BC%9Aname%20'ObjectId'%20is%20not%20defined%2C%E5%AF%BC%E5%85%A5Bson%E6%A8%A1%E5%9D%97%E4%B8%8B%E7%9A%84objectid%0A%20%20%20%20result%20%3D%20use_col.save(%0A%20%20%20%20%20%20%20%20%7B'_id'%3AObjectId(%225b836b9711575e79be9af0c7%22)%2C%0A%20%20%20%20%20%20%20%20'name'%3A'wangwu'%7D%0A%20%20%20%20)%0A%60%60%60%0A%23%23%23%23%20%E6%9F%A5%0A%60%60%60%0Adef%20find_data()%3A%0A%20%20%20%20%23%E3%80%80%E4%BD%BF%E7%94%A8find%E6%9F%A5%E8%AF%A2%EF%BC%8C%E4%BC%9A%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%EF%BD%83%EF%BD%95%EF%BD%92%EF%BD%93%EF%BD%8F%EF%BD%92%E5%AF%B9%E8%B1%A1%EF%BC%8C%0A%20%20%20%20%23%3Cpymongo.cursor.Cursor%20object%20at%200x7fa13d988e10%3E%0A%20%20%20%20%23%20%E6%88%91%E4%BB%AC%E8%A6%81%E6%8B%BF%E5%88%B0%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%9C%80%E8%A6%81%E9%81%8D%E5%8E%86%0A%20%20%20%20%23%20result%20%3D%20use_col.find(%7B'name'%3A'liyong'%7D)%0A%20%20%20%20%23%20print(result)%0A%20%20%20%20%23%20print(%5Bi%20for%20i%20in%20result%5D)%0A%0A%20%20%20%20%23%20result%20%3D%20use_col.find_one_and_delete()%0A%20%20%20%20%23%20result%20%3D%20use_col.find_one_and_replace()%0A%20%20%20%20%23%20result%20%3D%20use_col.find_one_and_update()%0A%0A%20%20%20%20%23find_one%E6%9F%A5%E8%AF%A2%E6%97%B6%EF%BC%8C%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%AD%97%E5%85%B8%0A%20%20%20%20%23%20result%20%3D%20use_col.find_one(%7B'name'%3A'liyong'%7D)%20%0A%20%20%20%20%23%20print(result)%0A%20%20%20%20%23%20print(type(result))%0A%0A%20%20%20%20%23%E8%B7%B3%E8%BF%87%E5%92%8C%E9%99%90%E5%88%B6%E6%9F%A5%E8%AF%A2s%0A%20%20%20%20%23%20result%20%3D%20use_col.find(%7B%7D).limit(4).skip(2).sort(%5B(%22age%22%2C1)%2C(%22name%22%2C1)%5D)%0A%20%20%20%20result%20%3D%20use_col.find(%7B%7D).limit(4).skip(2).sort(%22age%22%2C1).sort(%22name%22%2C1)%0A%20%20%20%20print(%5Bi%20for%20i%20in%20result%5D)%0A%0A%20%20%20%20%23%20for%20dict%20in%20result%3A%0A%20%20%20%20%23%20print(dict)%0A%60%60%60%0A%60%60%60%20%0Aif%20__name__%20%3D%3D%20'__main__'%3A%0A%20%20%20%20%23%20add_data()%0A%20%20%20%20%23%20update_data()%0A%20%20%20%20%23%20find_data()%0A%20%20%20%20%23%20delete_data()%0A%0A%60%60%60%0A%0A%E6%9B%B4%E5%A4%9A%E4%BD%BF%E7%94%A8%E8%AF%A6%E6%83%85%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8Bmongo%E7%9A%84%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%EF%BC%88http%3A%2F%2Fapi.mongodb.com%2Fpython%2Fcurrent%2Ftutorial.html%EF%BC%89</center></div></body></html>